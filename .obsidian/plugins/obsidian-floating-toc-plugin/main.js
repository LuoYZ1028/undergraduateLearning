/*
	This is the Obsidian example vault is amazing, there are a lot of dazzling features and showcase, I believe you will wonder a bit, is this Obsidian?
	[Blue-topaz-examples](https://github.com/cumany/Blue-topaz-examples)
	*/

var ue=Object.create;var M=Object.defineProperty;var me=Object.getOwnPropertyDescriptor;var be=Object.getOwnPropertyNames;var ve=Object.getPrototypeOf,Te=Object.prototype.hasOwnProperty;var B=n=>M(n,"__esModule",{value:!0});var ye=(n,e)=>{B(n);for(var s in e)M(n,s,{get:e[s],enumerable:!0})},Ce=(n,e,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of be(e))!Te.call(n,r)&&r!=="default"&&M(n,r,{get:()=>e[r],enumerable:!(s=me(e,r))||s.enumerable});return n},k=n=>Ce(B(M(n!=null?ue(ve(n)):{},"default",n&&n.__esModule&&"default"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);var S=(n,e,s)=>new Promise((r,a)=>{var o=l=>{try{i(s.next(l))}catch(p){a(p)}},t=l=>{try{i(s.throw(l))}catch(p){a(p)}},i=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,t);i((s=s.apply(n,e)).next())});ye(exports,{default:()=>P,refresh_node:()=>he,selfDestruct:()=>I});var g=k(require("obsidian"));var u=k(require("obsidian"));function O(n,e,s,r,a=null){return S(this,null,function*(){let o=/(?<=^\s*)[0-9]+\.\s/,t=/(?<=^\s*)[\-\+]\s/,i,l="";(i=o.exec(e))!==null?(l=i[0],e=e.replace(o,"")):(i=t.exec(e))!==null&&(l=i[0],e=e.replace(t,""));let p=s;yield u.MarkdownRenderer.renderMarkdown(e,p,r,a);let v=p.createEl("a");v.addClass("text"),v.onclick=function(h){var C;let d=(C=parseInt(p.parentElement.getAttribute("data-line")))!=null?C:0;if(h.ctrlKey)we(n,d);else{Se(n,d);let L=p.parentElement.parentElement.querySelector(".text-wrap.located");L&&L.removeClass("located"),p.addClass("located")}};let c=p.querySelector("p");if(c){let h=/<a[^>]*>|<\/[^>]*a>/gm;l?v.innerHTML=l+c.innerHTML.replace(h,""):v.innerHTML=c.innerHTML.replace(h,""),p.removeChild(c)}})}function V(n,e,s,r){return S(this,null,function*(){let a=e.createEl("li");a.addClass("heading-list-item"),a.setAttribute("data-level",s.level.toString()),a.setAttribute("data-id",r.toString()),a.setAttribute("data-line",s.position.start.line.toString());let o=a.createEl("div");o.addClass("text-wrap"),O(n,s.heading,o,n.file.path,null);let t=a.createEl("div");t.addClass("line-wrap"),t.createDiv().addClass("line")})}var Se=(n,e)=>{n.leaf.openFile(n.file,{eState:{line:e}})},we=(n,e)=>{var o,t;let s=(t=(o=n==null?void 0:n.currentMode.getFoldInfo())==null?void 0:o.folds)!=null?t:[],r=e,a=0;if(s.some((i,l)=>(a=l,i.from==r)))s.splice(a,1);else{let i={from:e,to:e+1};s.push(i)}n==null||n.currentMode.applyFoldInfo({folds:s,lines:n.editor.lineCount()}),n==null||n.onMarkdownFold()};function F(n,e){var a;let s=(o,t)=>{e.settings.positionStyle=="right"?(t.addClass("floating-right"),t.removeClass("floating-left")):e.settings.positionStyle=="left"&&(t.addClass("floating-left"),t.removeClass("floating-rigth")),e.settings.isLeft?(t.removeClass("alignLeft"),t.addClass("alignLeft")):t.removeClass("alignLeft");let i=t.createEl("ul");i.addClass("floating-toc");let l=i.createEl("div");l.addClass("toolbar"),l.addClass("pin"),l.addClass("hide"),new u.ButtonComponent(l).setIcon("pin").setTooltip("pin").onClick(()=>{t.classList.contains("pin")?t.removeClass("pin"):t.addClass("pin")}),i.onmouseenter=function(){l.removeClass("hide"),t.addClass("hover")},i.onmouseleave=function(){l.addClass("hide"),t.removeClass("hover")},new u.ButtonComponent(l).setIcon("double-up-arrow-glyph").setTooltip("Scroll to Top").setClass("top").onClick(()=>{let h=this.app.workspace.getActiveViewOfType(u.MarkdownView);h&&h.setEphemeralState({scroll:0})});let c=n.workspace.getActiveFile();globalThis.headingdata=n.metadataCache.getFileCache(c).headings,globalThis.headingdata&&(e.settings.ignoreTopHeader&&(globalThis.headingdata=n.metadataCache.getFileCache(c).headings.slice(1)),globalThis.headingdata.forEach((h,d)=>{let C=n.workspace.getActiveViewOfType(u.MarkdownView);V(C,i,h,d)}),o==null||o.querySelector(".markdown-source-view").insertAdjacentElement("beforebegin",t))};if(this.app.workspace.getActiveViewOfType(u.MarkdownView)){(0,u.requireApiVersion)("0.15.0")?activeDocument=activeWindow.document:activeDocument=window.document;let o=e.app.workspace.getActiveViewOfType(u.MarkdownView);if((a=o.contentEl)==null?void 0:a.querySelector(".floating-toc-div"))return;{let i=createEl("div");i.addClass("floating-toc-div"),s(o.contentEl,i)}}}var y=k(require("obsidian"));var z=["left","right"],R={ignoreTopHeader:!1,positionStyle:"left",isLoadOnMobile:!0,isLeft:!1};var ge=k(require("obsidian"));var W={};var j={};var U={};var G={};var D={"Floating TOC position":"Floating TOC position","Floating TOC position, default on the left side of the notes":"Floating TOC position, default on the left side of the notes","Ignore top-level headers":"Ignore top-level headers","Select whether to ignore the top-level headings. When turned on, the top-level headings in the current note are not displayed in the floating TOC.":"Select whether to ignore the top-level headings. When turned on, the top-level headings in the current note are not displayed in the floating TOC.","Plugin Settings":"Plugin Settings","Plugin Style Settings":"Plugin Style Settings","Mobile enabled or not":"Mobile enabled or not","Whether to enable the plugin for the mobile client, the default is enabled.":"Whether to enable the plugin for the mobile client, the default is enabled.","If the floating Toc option is not found in the style setting, please reload the style setting plugin (turn it off and on again)":"If the floating Toc option is not found in the style setting, please reload the style setting plugin (turn it off and on again)","Left Aligned":"Left Aligned","whether it is left or right aligned When the floating toc is on the right":"whether it is left or right aligned When the floating toc is on the right"};var J={};var Y={};var $={};var K={};var Q={};var X={};var Z={};var ee={};var te={};var ne={};var ie={};var oe={};var le={};var ae={};var se={};var re={};var de={"Floating TOC position":"\u6D6E\u52A8\u76EE\u5F55\u663E\u793A\u4F4D\u7F6E","Floating TOC position, default on the left side of the notes":"\u6D6E\u52A8\u76EE\u5F55\u663E\u793A\u4F4D\u7F6E\uFF0C\u9ED8\u8BA4\u663E\u793A\u5728\u7B14\u8BB0\u5DE6\u4FA7","Ignore top-level headers":"\u662F\u5426\u5FFD\u7565\u9876\u7EA7\u76EE\u5F55","Select whether to ignore the top-level headings. When turned on, the top-level headings in the current note are not displayed in the floating TOC.":"\u9009\u62E9\u662F\u5426\u5FFD\u7565\u9876\u7EA7\u6807\u9898\uFF0C\u5F00\u542F\u540E\u5F53\u524D\u6587\u6863\u4E2D\u6700\u9876\u7EA7\u7684\u6807\u9898\u4E0D\u663E\u793A\u5728\u6D6E\u52A8\u76EE\u5F55\u4E2D\u3002","Plugin Settings":"\u63D2\u4EF6\u8BBE\u7F6E","Plugin Style Settings":"\u63D2\u4EF6\u6837\u5F0F\u8BBE\u7F6E","Mobile enabled or not":"\u662F\u5426\u5728\u79FB\u52A8\u7AEF\u542F\u7528","Whether to enable the plugin for the mobile client, the default is enabled.":"\u79FB\u52A8\u5BA2\u6237\u7AEF\u662F\u5426\u542F\u7528\u63D2\u4EF6\uFF0C\u9ED8\u8BA4\u542F\u7528\u3002","If the floating Toc option is not found in the style setting, please reload the style setting plugin (turn it off and on again)":"\u5982\u679Cstyle setting \u4E2D\u65E0\u6CD5\u770B\u5230 floating Toc\u9009\u9879\uFF0C\u8BF7\u91CD\u8F7Dstyle setting\u63D2\u4EF6\uFF08\u5173\u95ED\u518D\u5F00\u542F\u5373\u53EF\uFF09","Left Aligned":"\u5DE6\u5BF9\u9F50","whether it is left or right aligned When the floating toc is on the right":"\u5F53\u5DE5\u5177\u680F\u5728\u53F3\u4FA7\u65F6\uFF0C\u662F\u5426\u5DE6\u5BF9\u9F50"};var ce={};var Ee={ar:W,cs:j,da:U,de:G,en:D,"en-gb":J,es:Y,fr:$,hi:K,id:Q,it:X,ja:Z,ko:ee,nl:te,nn:ne,pl:ie,pt:oe,"pt-br":le,ro:ae,ru:se,tr:re,"zh-cn":de,"zh-tw":ce},pe=Ee[ge.moment.locale()];function m(n){return pe&&pe[n]||D[n]}var _=class extends y.PluginSettingTab{constructor(e,s){super(e,s);this.plugin=s,addEventListener("refresh-toc",()=>{I(),F(e,this.plugin)})}display(){let{containerEl:e}=this;e.empty(),e.createEl("h1",{text:"Obsidian Floating TOC "}),e.createEl("span",{text:""}).createEl("a",{text:"Author: Cuman \u2728",href:"https://github.com/cumany"}),e.createEl("span",{text:""}).createEl("a",{text:"Readme:\u4E2D\u6587",href:"https://github.com/cumany/obsidian-floating-toc-plugin/blob/master/README-zh_cn.md"}),e.createEl("span",{text:""}).createEl("a",{text:"|English  ",href:"https://github.com/cumany/obsidian-floating-toc-plugin/blob/master/README.md"}),e.createEl("p",{text:"\u{1F511}TIPS: "}).createEl("p",{text:"ctrl + click on the floating toc to collapse/expand the header."}),e.createEl("h2",{text:m("Plugin Settings")}),new y.Setting(e).setName(m("Floating TOC position")).setDesc(m("Floating TOC position, default on the left side of the notes")).addDropdown(t=>{let i={};z.map(l=>i[l]=l),t.addOptions(i),t.setValue(this.plugin.settings.positionStyle).onChange(l=>{this.plugin.settings.positionStyle=l,this.plugin.saveSettings(),setTimeout(()=>{this.display(),dispatchEvent(new Event("refresh-toc"))},100)})}),this.plugin.settings.positionStyle=="right"&&new y.Setting(e).setName(m("Left Aligned")).setDesc(m("whether it is left or right aligned When the floating toc is on the right")).addToggle(t=>{var i;return t.setValue((i=this.plugin.settings)==null?void 0:i.isLeft).onChange(l=>{this.plugin.settings.isLeft=l,this.plugin.saveSettings(),setTimeout(()=>{this.display(),dispatchEvent(new Event("refresh-toc"))},100)})}),new y.Setting(e).setName(m("Mobile enabled or not")).setDesc(m("Whether to enable the plugin for the mobile client, the default is enabled.")).addToggle(t=>{var i;return t.setValue((i=this.plugin.settings)==null?void 0:i.isLoadOnMobile).onChange(l=>{this.plugin.settings.isLoadOnMobile=l,this.plugin.saveSettings(),setTimeout(()=>{dispatchEvent(new Event("refresh-toc"))},100)})}),new y.Setting(e).setName(m("Ignore top-level headers")).setDesc(m("Select whether to ignore the top-level headings. When turned on, the top-level headings in the current note are not displayed in the floating TOC.")).addToggle(t=>{var i;return t.setValue((i=this.plugin.settings)==null?void 0:i.ignoreTopHeader).onChange(l=>{this.plugin.settings.ignoreTopHeader=l,this.plugin.saveSettings(),setTimeout(()=>{dispatchEvent(new Event("refresh-toc"))},100)})}),e.createEl("h2",{text:m("Plugin Style Settings")}),app.plugins.enabledPlugins.has("obsidian-style-settings")?(e.createEl("p",{text:"\u{1F514}Notice: "}).createEl("p",{text:m("If the floating Toc option is not found in the style setting, please reload the style setting plugin (turn it off and on again)")}),new y.ButtonComponent(e).setIcon("palette").setClass("tiny").setButtonText("\u{1F3A8} Open style settings").onClick(()=>{app.setting.open(),setTimeout(()=>app.setting.openTabById("obsidian-style-settings"),300)})):e.createEl("span",{text:""}).createEl("a",{text:"Please install or enable the style-settings plugin",href:"obsidian://show-plugin?id=obsidian-style-settings"});let r=e.createEl("div",{cls:"cDonationSection"}),a=createEl("p"),o=createEl("p");o.appendText("If you like this Plugin and are considering donating to support continued development, use the button below!"),a.setAttribute("style","color: var(--text-muted)"),r.appendChild(o),r.appendChild(a),r.appendChild(xe("https://github.com/cumany#thank-you-very-much-for-your-support"))}},xe=n=>{let e=createEl("a");return e.setAttribute("href",n),e.addClass("buymeacoffee-img"),e.innerHTML='<img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee &emoji=&slug=Cuman&button_colour=BD5FFF&font_colour=ffffff&font_family=Poppins&outline_colour=000000&coffee_colour=FFDD00" />',e};var b,w=0;function I(){(0,g.requireApiVersion)("0.15.0")?b=activeWindow.document:b=window.document,b.querySelectorAll(".floating-toc-div").forEach(e=>{e&&e.remove()})}function he(n){var s;(0,g.requireApiVersion)("0.15.0")?b=activeWindow.document:b=window.document;let e=(s=n.contentEl)==null?void 0:s.querySelector(".floating-toc-div");if(e){let r=e.querySelector("ul.floating-toc");r||(r=e.createEl("ul"),r.addClass("floating-toc"));let a=e==null?void 0:e.querySelectorAll("li.heading-list-item"),o=globalThis.headingdata;return o?(a.length>=o.length?a==null||a.forEach((t,i)=>{var l;if(o[i]){if(o[i].level==t.getAttribute("data-level")&&o[i].heading==t.children[0].innerText&&o[i].position.start.line==t.getAttribute("data-line"))return;t.setAttribute("data-level",o[i].level.toString()),t.setAttribute("data-id",i.toString()),t.setAttribute("data-line",o[i].position.start.line.toString()),(l=t.children[0].querySelector("a"))==null||l.remove(),O(n,o[i].heading,t.children[0],n.file.path,null)}else t.remove()}):o==null||o.forEach((t,i)=>{var l;if(i<=a.length-1){if(t.level.toString()==a[i].getAttribute("data-level")&&t.heading==a[i].children[0].innerText&&t.position.start.line.toString()==a[i].getAttribute("data-line"))return;a[i].setAttribute("data-level",t.level.toString()),a[i].setAttribute("data-id",i.toString()),a[i].setAttribute("data-line",t.position.start.line.toString()),(l=a[i].children[0].querySelector("a"))==null||l.remove(),O(n,t.heading,a[i].children[0],n.file.path,null)}else V(n,r,t,i)}),!0):(r.remove(),!1)}else return!1}function fe(n){for(var e=[];n=n.previousElementSibling;)n.nodeType==1&&e.push(n);return e}function Le(n){var s,r,a,o,t,i;let e=n.target;if(((s=e.parentElement)==null?void 0:s.classList.contains("cm-editor"))||((r=e.parentElement)==null?void 0:r.classList.contains("markdown-reading-view"))){let l=app.workspace.getActiveViewOfType(g.MarkdownView),p,v={};if(l){p=(a=l.currentMode.getScroll())!=null?a:0;let c=globalThis.headingdata,h=(o=c==null?void 0:c.length)!=null?o:0,d=l.contentEl.querySelector(".floating-toc");if(d){let C=parseInt((t=d.querySelector("li.heading-list-item"))==null?void 0:t.getAttribute("data-line")),L=parseInt((i=d.lastElementChild)==null?void 0:i.getAttribute("data-line"));if(p<=0){let E=d.querySelector(".heading-list-item.located");E&&E.removeClass("located");let f=d==null?void 0:d.querySelector(`li[data-line='${C}']`);f&&f.addClass("located");let T=parseInt(f.getAttribute("data-level"));T=T>1?T-1:1;let H=fe(f),x=d==null?void 0:d.querySelector("li.focus");x&&x.removeClass("focus"),H.some(N=>{if(N.dataset.level<=T.toString())return N.addClass("focus"),!0});let A=d.querySelector(".heading-list-item");setTimeout(()=>A.scrollIntoViewIfNeeded(),300)}else{for(;--h>=0;)if(c[h].position.start.line<=p){v=c[h],w=c[h].position.start.line;break}if(!v)return;let E=d.querySelector(".heading-list-item.located");E&&E.removeClass("located"),!w&&d&&(w=C);let f=d==null?void 0:d.querySelector(`li[data-line='${w}']`);if(f){if(w==L||w==C)f.addClass("located");else if(f.nextElementSibling){f.nextElementSibling.addClass("located");let T=parseInt(f.nextElementSibling.getAttribute("data-level"));T=T>1?T-1:1;let H=fe(f.nextElementSibling),x=d==null?void 0:d.querySelector("li.focus");x&&x.removeClass("focus"),H.some(A=>{if(A.dataset.level<=T.toString())return A.addClass("focus"),!0})}f.scrollIntoViewIfNeeded()}}}}}}var q=(0,g.debounce)(Le,200),P=class extends g.Plugin{onload(){return S(this,null,function*(){(0,g.requireApiVersion)("0.15.0")?b=activeWindow.document:b=window.document,yield this.loadSettings();let e=o=>{o&&(he(o)||F(app,this))},s=this.settings.isLoadOnMobile;if(g.Platform.isMobileApp&&s){console.log("floating toc disable loading on mobile");return}this.addCommand({id:"pin-toc-panel",name:"Pinning the Floating TOC panel",icon:"pin",callback:()=>S(this,null,function*(){let o=this.app.workspace.getActiveViewOfType(g.MarkdownView);if(o){let t=o.contentEl.querySelector(".floating-toc-div");t&&(t.classList.contains("pin")?t.removeClass("pin"):t.addClass("pin"))}})}),this.registerEvent(this.app.workspace.on("active-leaf-change",()=>{let o=this.app.workspace.getActiveViewOfType(g.MarkdownView);if(o){let t=this.app.workspace.getActiveFile(),i=this.app.metadataCache.getFileCache(t).headings;globalThis.headingdata=i,this.settings.ignoreTopHeader&&(globalThis.headingdata=i.slice(1)),a(o)}})),this.registerEvent(this.app.metadataCache.on("changed",()=>{var t;let o=this.app.workspace.getActiveViewOfType(g.MarkdownView);if(o){let i=o.file,l=this.app.metadataCache.getFileCache(i).headings,p=l==null?void 0:l.map(c=>c.level+c.heading+c.position.start.line),v=(t=globalThis.headingdata)==null?void 0:t.map(c=>c.level+c.heading+c.position.start.line);if(JSON.stringify(v)==JSON.stringify(p))return;globalThis.headingdata=l,this.settings.ignoreTopHeader&&(globalThis.headingdata=l.slice(1)),a(o)}}));let r=o=>{e(o)},a=o=>(0,g.debounce)(r(o),300,!0);b.addEventListener("scroll",q,!0),this.addSettingTab(new _(this.app,this)),e(this.app.workspace.getActiveViewOfType(g.MarkdownView)),(0,g.requireApiVersion)("0.15.0")&&this.app.workspace.on("window-open",o=>{o.doc.addEventListener("scroll",q,!0)}),app.workspace.layoutReady&&app.workspace.trigger("parse-style-settings")})}onunload(){(0,g.requireApiVersion)("0.15.0")?b=activeWindow.document:b=window.document,b.removeEventListener("scroll",q,!0),I()}loadSettings(){return S(this,null,function*(){this.settings=Object.assign({},R,yield this.loadData())})}saveSettings(){return S(this,null,function*(){yield this.saveData(this.settings)})}};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL21haW4udHMiLCAiLi4vc3JjL2NvbXBvbmVudHMvZmxvYXRpbmd0b2NVSS50cyIsICIuLi9zcmMvc2V0dGluZ3Mvc2V0dGluZ3NUYWIudHMiLCAiLi4vc3JjL3NldHRpbmdzL3NldHRpbmdzRGF0YS50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2hlbHBlci50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9hci50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9jei50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9kYS50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9kZS50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9lbi50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9lbi1nYi50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9lcy50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9mci50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9oaS50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9pZC50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9pdC50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9qYS50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9rby50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9ubC50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9uby50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9wbC50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9wdC50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9wdC1ici50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9yby50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS9ydS50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS90ci50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS96aC1jbi50cyIsICIuLi9zcmMvdHJhbnNsYXRpb25zL2xvY2FsZS96aC10dy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgZGVib3VuY2UsIFBsYXRmb3JtLCByZXF1aXJlQXBpVmVyc2lvbiwgTWFya2Rvd25WaWV3LCBQbHVnaW4sIEhlYWRpbmdDYWNoZSwgQXBwIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IENyZWF0VG9jLCBjcmVhdGVsaSwgcmVuZGVySGVhZGVyIH0gZnJvbSBcInNyYy9jb21wb25lbnRzL2Zsb2F0aW5ndG9jVUlcIlxyXG5pbXBvcnQgeyBGbG90aW5nVE9DU2V0dGluZ1RhYiB9IGZyb20gXCJzcmMvc2V0dGluZ3Mvc2V0dGluZ3NUYWJcIjtcclxuaW1wb3J0IHsgRmxvdGluZ1RPQ1NldHRpbmcsIERFRkFVTFRfU0VUVElOR1MgfSBmcm9tIFwic3JjL3NldHRpbmdzL3NldHRpbmdzRGF0YVwiO1xyXG5cclxuXHJcbmxldCBhY3RpdmVEb2N1bWVudDogRG9jdW1lbnQ7XHJcbmxldCBsaW5lID0gMDtcclxuZXhwb3J0IGZ1bmN0aW9uIHNlbGZEZXN0cnVjdCgpIHtcclxuXHRyZXF1aXJlQXBpVmVyc2lvbihcIjAuMTUuMFwiKSA/IGFjdGl2ZURvY3VtZW50ID0gYWN0aXZlV2luZG93LmRvY3VtZW50IDogYWN0aXZlRG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XHJcblx0bGV0IGZsb2F0X3RvY19kb20gPSBhY3RpdmVEb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG5cdFx0XCIuZmxvYXRpbmctdG9jLWRpdlwiXHJcblx0KTtcclxuXHRmbG9hdF90b2NfZG9tLmZvckVhY2goZWxlbWVudCA9PiB7XHJcblx0XHRpZiAoZWxlbWVudCkge1xyXG5cdFx0XHRlbGVtZW50LnJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cclxuXHR9KTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWZyZXNoX25vZGUodmlldzogTWFya2Rvd25WaWV3KSB7XHJcblx0cmVxdWlyZUFwaVZlcnNpb24oXCIwLjE1LjBcIikgPyBhY3RpdmVEb2N1bWVudCA9IGFjdGl2ZVdpbmRvdy5kb2N1bWVudCA6IGFjdGl2ZURvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xyXG5cdC8vbGV0IGN1cnJlbnRsZWFmID0gYWN0aXZlRG9jdW1lbnQ/LnF1ZXJ5U2VsZWN0b3IoXCIud29ya3NwYWNlLWxlYWYubW9kLWFjdGl2ZVwiKTtcclxuXHQvL2xldCB2aWV3PXBsdWdpbi5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KVxyXG5cdGxldCBmbG9hdF90b2NfZG9tID0gdmlldy5jb250ZW50RWw/LnF1ZXJ5U2VsZWN0b3IoXCIuZmxvYXRpbmctdG9jLWRpdlwiKTtcclxuXHQvL2NvbnNvbGUubG9nKGZsb2F0X3RvY19kb20sXCJmbG9hdF90b2NfZG9tXCIpXHJcblx0aWYgKGZsb2F0X3RvY19kb20pIHtcclxuXHRcdGxldCB1bF9kb20gPSBmbG9hdF90b2NfZG9tLnF1ZXJ5U2VsZWN0b3IoXCJ1bC5mbG9hdGluZy10b2NcIikgYXMgSFRNTEVsZW1lbnRcclxuXHRcdGlmICghdWxfZG9tKVxyXG5cdFx0XHR1bF9kb20gPSBmbG9hdF90b2NfZG9tLmNyZWF0ZUVsKFwidWxcIiksIHVsX2RvbS5hZGRDbGFzcyhcImZsb2F0aW5nLXRvY1wiKVxyXG5cdFx0bGV0IGxpX2RvbSA9IGZsb2F0X3RvY19kb20/LnF1ZXJ5U2VsZWN0b3JBbGwoXCJsaS5oZWFkaW5nLWxpc3QtaXRlbVwiKVxyXG5cdFx0bGV0IGhlYWRpbmdkYXRhID0gZ2xvYmFsVGhpcy5oZWFkaW5nZGF0YVxyXG5cdFx0Ly9jb25zb2xlLmxvZyhoZWFkaW5nZGF0YSxcImhlYWRpbmdkYXRhXCIpXHJcblx0XHRpZiAoaGVhZGluZ2RhdGEpIHtcclxuXHRcdFx0Ly9cdGNvbnNvbGUubG9nKFwicmVmcmVzaF9ub2RlXCIpXHJcblx0XHRcdGlmIChsaV9kb20ubGVuZ3RoID49IGhlYWRpbmdkYXRhLmxlbmd0aCkge1xyXG5cdFx0XHRcdGxpX2RvbT8uZm9yRWFjaCgoZWwsIGkpID0+IHtcclxuXHRcdFx0XHRcdGlmIChoZWFkaW5nZGF0YVtpXSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoKGhlYWRpbmdkYXRhW2ldLmxldmVsID09IGVsLmdldEF0dHJpYnV0ZShcImRhdGEtbGV2ZWxcIikpXHJcblx0XHRcdFx0XHRcdFx0JiYgKGhlYWRpbmdkYXRhW2ldLmhlYWRpbmcgPT0gKGVsLmNoaWxkcmVuWzBdIGFzIEhUTUxFbGVtZW50KS5pbm5lclRleHQpXHJcblx0XHRcdFx0XHRcdFx0JiYgKGhlYWRpbmdkYXRhW2ldLnBvc2l0aW9uLnN0YXJ0LmxpbmUgPT0gZWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1saW5lXCIpKSkgLy9cdTdFQTdcdTUyMkJcdUZGMENcdTUxODVcdTVCQjlcdTg4NENcdTUzRjdcdTVCOENcdTUxNjhcdTRFMDBcdTgxRjRcdTVDMzFcdTRFMERcdTk3MDBcdTg5ODFcdTY2RjRcdTY1QjBcdTMwMDJcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZWwuc2V0QXR0cmlidXRlKFwiZGF0YS1sZXZlbFwiLCBoZWFkaW5nZGF0YVtpXS5sZXZlbC50b1N0cmluZygpKTtcclxuXHRcdFx0XHRcdFx0XHRlbC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIsIGkudG9TdHJpbmcoKSk7XHJcblx0XHRcdFx0XHRcdFx0ZWwuc2V0QXR0cmlidXRlKFwiZGF0YS1saW5lXCIsIGhlYWRpbmdkYXRhW2ldLnBvc2l0aW9uLnN0YXJ0LmxpbmUudG9TdHJpbmcoKSk7XHJcblx0XHRcdFx0XHRcdFx0ZWwuY2hpbGRyZW5bMF0ucXVlcnlTZWxlY3RvcihcImFcIik/LnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0XHRcdHJlbmRlckhlYWRlcih2aWV3LCBoZWFkaW5nZGF0YVtpXS5oZWFkaW5nLCBlbC5jaGlsZHJlblswXSBhcyBIVE1MRWxlbWVudCwgdmlldy5maWxlLnBhdGgsIG51bGwpXHJcblx0XHRcdFx0XHRcdFx0Ly8oZWwuY2hpbGRyZW5bMF0gYXMgSFRNTEVsZW1lbnQpLmlubmVySFRNTCA9ICc8YSBjbGFzcz1cInRleHRcIj4nICsgaGVhZGluZ2RhdGFbaV0uaGVhZGluZyArICc8L2E+J1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRlbC5yZW1vdmUoKVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aGVhZGluZ2RhdGE/LmZvckVhY2goKGVsOiBIZWFkaW5nQ2FjaGUsIGk6IG51bWJlcikgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKGkgPD0gKGxpX2RvbS5sZW5ndGggLSAxKSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoKGVsLmxldmVsLnRvU3RyaW5nKCkgPT0gbGlfZG9tW2ldLmdldEF0dHJpYnV0ZShcImRhdGEtbGV2ZWxcIikpXHJcblx0XHRcdFx0XHRcdFx0JiYgKGVsLmhlYWRpbmcgPT0gKGxpX2RvbVtpXS5jaGlsZHJlblswXSBhcyBIVE1MRWxlbWVudCkuaW5uZXJUZXh0KVxyXG5cdFx0XHRcdFx0XHRcdCYmIChlbC5wb3NpdGlvbi5zdGFydC5saW5lLnRvU3RyaW5nKCkgPT0gbGlfZG9tW2ldLmdldEF0dHJpYnV0ZShcImRhdGEtbGluZVwiKSkpIC8vXHU3RUE3XHU1MjJCXHVGRjBDXHU1MTg1XHU1QkI5XHU4ODRDXHU1M0Y3XHU1QjhDXHU1MTY4XHU0RTAwXHU4MUY0XHU1QzMxXHU0RTBEXHU5NzAwXHU4OTgxXHU2NkY0XHU2NUIwXHUzMDAyXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGxpX2RvbVtpXS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWxldmVsXCIsIGVsLmxldmVsLnRvU3RyaW5nKCkpO1xyXG5cdFx0XHRcdFx0XHRcdGxpX2RvbVtpXS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIsIGkudG9TdHJpbmcoKSk7XHJcblx0XHRcdFx0XHRcdFx0bGlfZG9tW2ldLnNldEF0dHJpYnV0ZShcImRhdGEtbGluZVwiLCBlbC5wb3NpdGlvbi5zdGFydC5saW5lLnRvU3RyaW5nKCkpO1xyXG5cdFx0XHRcdFx0XHRcdC8vKGxpX2RvbVtpXS5jaGlsZHJlblswXSBhcyBIVE1MRWxlbWVudCkuaW5uZXJIVE1MID0gJzxhIGNsYXNzPVwidGV4dFwiPicgKyBlbC5oZWFkaW5nICsgJzwvYT4nXHJcblx0XHRcdFx0XHRcdFx0bGlfZG9tW2ldLmNoaWxkcmVuWzBdLnF1ZXJ5U2VsZWN0b3IoXCJhXCIpPy5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdFx0XHRyZW5kZXJIZWFkZXIodmlldywgZWwuaGVhZGluZywgbGlfZG9tW2ldLmNoaWxkcmVuWzBdIGFzIEhUTUxFbGVtZW50LCB2aWV3LmZpbGUucGF0aCwgbnVsbClcclxuXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0XHRjcmVhdGVsaSh2aWV3LCB1bF9kb20sIGVsLCBpKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dWxfZG9tLnJlbW92ZSgpO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdH0gZWxzZVxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxufVxyXG5mdW5jdGlvbiBzaWJsaW5nRWxlbXMoZWxlbTogRWxlbWVudCkge1xyXG5cdHZhciBub2RlcyA9IFtdO1xyXG5cdHdoaWxlICgoZWxlbSA9IGVsZW0ucHJldmlvdXNFbGVtZW50U2libGluZykpIHtcclxuXHRcdGlmIChlbGVtLm5vZGVUeXBlID09IDEpIHtcclxuXHRcdFx0bm9kZXMucHVzaChlbGVtKTtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIG5vZGVzO1xyXG59XHJcbmZ1bmN0aW9uIF9oYW5kbGVTY3JvbGwoZXZ0OiBFdmVudCkge1xyXG5cdGxldCB0YXJnZXQgPSBldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50XHJcblx0aWYgKHRhcmdldC5wYXJlbnRFbGVtZW50Py5jbGFzc0xpc3QuY29udGFpbnMoXCJjbS1lZGl0b3JcIikgfHwgdGFyZ2V0LnBhcmVudEVsZW1lbnQ/LmNsYXNzTGlzdC5jb250YWlucyhcIm1hcmtkb3duLXJlYWRpbmctdmlld1wiKSkge1xyXG5cdFx0Y29uc3QgdmlldyA9IGFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpXHJcblx0XHRsZXQgY3VycmVudF9saW5lXHJcblx0XHRsZXQgY3VycmVudF9oZWFkaW5nID0ge307XHJcblx0XHRpZiAodmlldykge1xyXG5cdFx0XHRjdXJyZW50X2xpbmUgPSB2aWV3LmN1cnJlbnRNb2RlLmdldFNjcm9sbCgpID8/IDBcclxuXHRcdFx0LyogXHRsZXQgZmxvYXRfdG9jX2RvbSA9IHZpZXcuY29udGVudEVsPy5xdWVyeVNlbGVjdG9yKFwiLmZsb2F0aW5nLXRvYy1kaXZcIik7XHJcblx0XHRcdFx0bGV0IGxpX2RvbSA9IGZsb2F0X3RvY19kb20/LnF1ZXJ5U2VsZWN0b3JBbGwoXCJsaS5oZWFkaW5nLWxpc3QtaXRlbVwiKVxyXG5cdFx0XHRcdGxldCBoZWFkbGluZSA9IFtdO1xyXG5cdFx0XHRcdGxpX2RvbT8uZm9yRWFjaCgoZWwsIGkpID0+IHtcclxuXHRcdFx0XHRcdGhlYWRsaW5lLnB1c2gobGlfZG9tW2ldLmdldEF0dHJpYnV0ZShcImRhdGEtbGluZVwiKSlcclxuXHRcdFx0XHR9KSAqL1xyXG5cclxuXHRcdFx0Ly9cdGNvbnNvbGUubG9nKGN1cnJlbnRfbGluZSwgXCJjdXJyZW50X2xpbmVcIilcclxuXHRcdFx0bGV0IGhlYWRpbmdzID0gZ2xvYmFsVGhpcy5oZWFkaW5nZGF0YVxyXG5cdFx0XHRsZXQgaSA9IGhlYWRpbmdzPy5sZW5ndGggPz8gMFxyXG5cdFx0XHRsZXQgZmxvYXR0b2MgPSB2aWV3LmNvbnRlbnRFbC5xdWVyeVNlbGVjdG9yKFwiLmZsb2F0aW5nLXRvY1wiKVxyXG5cdFx0XHRpZiAoZmxvYXR0b2MpIHtcclxuXHRcdFx0XHRsZXQgZmlyc3RsaW5lID0gcGFyc2VJbnQoZmxvYXR0b2MucXVlcnlTZWxlY3RvcihcImxpLmhlYWRpbmctbGlzdC1pdGVtXCIpPy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWxpbmVcIikpXHJcblx0XHRcdFx0bGV0IGxhc3RsaW5lID0gcGFyc2VJbnQoZmxvYXR0b2MubGFzdEVsZW1lbnRDaGlsZD8uZ2V0QXR0cmlidXRlKFwiZGF0YS1saW5lXCIpKVxyXG5cdFx0XHRcdC8vXHU2RURBXHU1MkE4XHU1MjMwXHU5ODc2XHU5MEU4XHVGRjBDXHU2MzA3XHU3OTNBXHU1NjY4XHU1QjlBXHU0RjREXHU1MjMwXHU5ODc2XHU5MEU4XHJcblx0XHRcdFx0aWYgKGN1cnJlbnRfbGluZSA8PSAwKSB7XHJcblx0XHRcdFx0XHRsZXQgcHJldkxvY2F0aW9uID0gZmxvYXR0b2MucXVlcnlTZWxlY3RvcihcIi5oZWFkaW5nLWxpc3QtaXRlbS5sb2NhdGVkXCIpXHJcblx0XHRcdFx0XHRpZiAocHJldkxvY2F0aW9uKSB7XHJcblx0XHRcdFx0XHRcdHByZXZMb2NhdGlvbi5yZW1vdmVDbGFzcyhcImxvY2F0ZWRcIilcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRsZXQgY3VyTG9jYXRpb24gPSBmbG9hdHRvYz8ucXVlcnlTZWxlY3RvcihgbGlbZGF0YS1saW5lPScke2ZpcnN0bGluZX0nXWApXHJcblx0XHRcdFx0XHRpZiAoY3VyTG9jYXRpb24pIGN1ckxvY2F0aW9uLmFkZENsYXNzKFwibG9jYXRlZFwiKTtcclxuXHJcblxyXG5cdFx0XHRcdFx0bGV0IGxldmVsID0gcGFyc2VJbnQoY3VyTG9jYXRpb24uZ2V0QXR0cmlidXRlKFwiZGF0YS1sZXZlbFwiKSlcclxuXHRcdFx0XHRcdGxldmVsID0gbGV2ZWwgPiAxID8gbGV2ZWwgLSAxIDogMTtcclxuXHRcdFx0XHRcdGxldCBzaWJsaW5ncyA9IHNpYmxpbmdFbGVtcyhjdXJMb2NhdGlvbik7XHJcblx0XHRcdFx0XHRsZXQgZm9jdXNlbGUgPSBmbG9hdHRvYz8ucXVlcnlTZWxlY3RvcihgbGkuZm9jdXNgKVxyXG5cdFx0XHRcdFx0aWYgKGZvY3VzZWxlKSB7XHJcblx0XHRcdFx0XHRcdGZvY3VzZWxlLnJlbW92ZUNsYXNzKFwiZm9jdXNcIilcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHNpYmxpbmdzLnNvbWUoZWxlbWVudCA9PiB7XHJcblx0XHRcdFx0XHRcdGlmICgoZWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50KS5kYXRhc2V0WydsZXZlbCddIDw9IGxldmVsLnRvU3RyaW5nKCkpIFxyXG5cdFx0XHRcdFx0XHR7IGVsZW1lbnQuYWRkQ2xhc3MoJ2ZvY3VzJyk7IHJldHVybiB0cnVlfVxyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRsZXQgTG9jYXRpb24gPSBmbG9hdHRvYy5xdWVyeVNlbGVjdG9yKFwiLmhlYWRpbmctbGlzdC1pdGVtXCIpXHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IExvY2F0aW9uLnNjcm9sbEludG9WaWV3SWZOZWVkZWQoKSwgMzAwKVxyXG5cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHR3aGlsZSAoLS1pID49IDApIHtcclxuXHRcdFx0XHRcdFx0aWYgKGhlYWRpbmdzW2ldLnBvc2l0aW9uLnN0YXJ0LmxpbmUgPD0gY3VycmVudF9saW5lKSB7XHJcblx0XHRcdFx0XHRcdFx0Y3VycmVudF9oZWFkaW5nID0gaGVhZGluZ3NbaV1cclxuXHRcdFx0XHRcdFx0XHQvL1x0Y29uc29sZS5sb2coY3VycmVudF9oZWFkaW5nKVxyXG5cdFx0XHRcdFx0XHRcdGxpbmUgPSBoZWFkaW5nc1tpXS5wb3NpdGlvbi5zdGFydC5saW5lXHJcblx0XHRcdFx0XHRcdFx0YnJlYWtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKCFjdXJyZW50X2hlYWRpbmcpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly9sZXQgY29udGFpbmVyID0gYWN0aXZlRG9jdW1lbnQ/LnF1ZXJ5U2VsZWN0b3IoXCIud29ya3NwYWNlLWxlYWYubW9kLWFjdGl2ZVwiKTtcclxuXHJcblx0XHRcdFx0XHRsZXQgcHJldkxvY2F0aW9uID0gZmxvYXR0b2MucXVlcnlTZWxlY3RvcihcIi5oZWFkaW5nLWxpc3QtaXRlbS5sb2NhdGVkXCIpXHJcblx0XHRcdFx0XHRpZiAocHJldkxvY2F0aW9uKSB7XHJcblx0XHRcdFx0XHRcdHByZXZMb2NhdGlvbi5yZW1vdmVDbGFzcyhcImxvY2F0ZWRcIilcclxuXHRcdFx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRcdFx0aWYgKCFsaW5lICYmIGZsb2F0dG9jKSBsaW5lID0gZmlyc3RsaW5lXHJcblx0XHRcdFx0XHQvL1x0Y29uc29sZS5sb2cobGluZSlcclxuXHRcdFx0XHRcdGxldCBjdXJMb2NhdGlvbiA9IGZsb2F0dG9jPy5xdWVyeVNlbGVjdG9yKGBsaVtkYXRhLWxpbmU9JyR7bGluZX0nXWApXHJcblxyXG5cdFx0XHRcdFx0aWYgKGN1ckxvY2F0aW9uKSB7XHJcblx0XHRcdFx0XHRcdGlmIChsaW5lID09IGxhc3RsaW5lIHx8IGxpbmUgPT0gZmlyc3RsaW5lKSB7XHJcblx0XHRcdFx0XHRcdFx0Y3VyTG9jYXRpb24uYWRkQ2xhc3MoXCJsb2NhdGVkXCIpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2VcclxuXHRcdFx0XHRcdFx0XHRpZiAoY3VyTG9jYXRpb24ubmV4dEVsZW1lbnRTaWJsaW5nKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRjdXJMb2NhdGlvbi5uZXh0RWxlbWVudFNpYmxpbmcuYWRkQ2xhc3MoXCJsb2NhdGVkXCIpO1xyXG5cdFx0XHRcdFx0XHRcdFx0bGV0IGxldmVsID0gcGFyc2VJbnQoY3VyTG9jYXRpb24ubmV4dEVsZW1lbnRTaWJsaW5nLmdldEF0dHJpYnV0ZShcImRhdGEtbGV2ZWxcIikpXHJcblx0XHRcdFx0XHRcdFx0XHRsZXZlbCA9IGxldmVsID4gMSA/IGxldmVsIC0gMSA6IDE7XHJcblx0XHRcdFx0XHRcdFx0XHRsZXQgc2libGluZ3MgPSBzaWJsaW5nRWxlbXMoY3VyTG9jYXRpb24ubmV4dEVsZW1lbnRTaWJsaW5nKTtcclxuXHRcdFx0XHRcdFx0XHRcdGxldCBmb2N1c2VsZSA9IGZsb2F0dG9jPy5xdWVyeVNlbGVjdG9yKGBsaS5mb2N1c2ApXHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoZm9jdXNlbGUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Zm9jdXNlbGUucmVtb3ZlQ2xhc3MoXCJmb2N1c1wiKVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0c2libGluZ3Muc29tZShlbGVtZW50ID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKChlbGVtZW50IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmRhdGFzZXRbJ2xldmVsJ10gPD0gbGV2ZWwudG9TdHJpbmcoKSkgXHJcblx0XHRcdFx0XHRcdFx0XHRcdHsgZWxlbWVudC5hZGRDbGFzcygnZm9jdXMnKTsgcmV0dXJuIHRydWV9XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHQvL2N1ckxvY2F0aW9uLnNjcm9sbEludG9WaWV3KHsgYmxvY2s6IFwiY2VudGVyXCIgfSlcclxuXHRcdFx0XHRcdFx0Y3VyTG9jYXRpb24uc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5jb25zdCBoYW5kbGVTY3JvbGwgPSBkZWJvdW5jZShfaGFuZGxlU2Nyb2xsLCAyMDApXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsb2F0aW5nVG9jIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRzZXR0aW5nczogYW55O1xyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdHJlcXVpcmVBcGlWZXJzaW9uKFwiMC4xNS4wXCIpID8gYWN0aXZlRG9jdW1lbnQgPSBhY3RpdmVXaW5kb3cuZG9jdW1lbnQgOiBhY3RpdmVEb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblx0XHRjb25zdCB1cGRhdGVIZWFkaW5nc0ZvclZpZXcgPSAodmlldzogTWFya2Rvd25WaWV3KSA9PiB7XHJcblx0XHRcdHZpZXcgPyByZWZyZXNoX25vZGUodmlldykgPyBmYWxzZSA6IENyZWF0VG9jKGFwcCwgdGhpcykgOiBmYWxzZVxyXG5cclxuXHRcdH07XHJcblx0XHRsZXQgaXNMb2FkT25Nb2JpbGUgPSB0aGlzLnNldHRpbmdzLmlzTG9hZE9uTW9iaWxlXHJcblx0XHRpZiAoUGxhdGZvcm0uaXNNb2JpbGVBcHAgJiYgaXNMb2FkT25Nb2JpbGUpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coYGZsb2F0aW5nIHRvYyBkaXNhYmxlIGxvYWRpbmcgb24gbW9iaWxlYCk7XHJcblx0XHRcdHJldHVybjtcclxuXHJcblx0XHR9XHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogXCJwaW4tdG9jLXBhbmVsXCIsXHJcblx0XHRcdG5hbWU6IFwiUGlubmluZyB0aGUgRmxvYXRpbmcgVE9DIHBhbmVsXCIsXHJcblx0XHRcdGljb246IFwicGluXCIsXHJcblx0XHRcdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0bGV0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpXHJcblx0XHRcdFx0aWYgKHZpZXcpIHtcclxuXHRcdFx0XHRcdGxldCBmbG9hdGluZ1RvY1dyYXBwZXIgPSB2aWV3LmNvbnRlbnRFbC5xdWVyeVNlbGVjdG9yKFwiLmZsb2F0aW5nLXRvYy1kaXZcIilcclxuXHRcdFx0XHRcdGlmIChmbG9hdGluZ1RvY1dyYXBwZXIpIHtcclxuXHRcdFx0XHRcdFx0aWYgKGZsb2F0aW5nVG9jV3JhcHBlci5jbGFzc0xpc3QuY29udGFpbnMoXCJwaW5cIikpXHJcblx0XHRcdFx0XHRcdFx0ZmxvYXRpbmdUb2NXcmFwcGVyLnJlbW92ZUNsYXNzKFwicGluXCIpXHJcblx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRmbG9hdGluZ1RvY1dyYXBwZXIuYWRkQ2xhc3MoXCJwaW5cIik7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdH0pO1xyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJhY3RpdmUtbGVhZi1jaGFuZ2VcIiwgKCkgPT4ge1xyXG5cdFx0XHRcdGxldCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KVxyXG5cdFx0XHRcdGlmICh2aWV3KSB7XHJcblx0XHRcdFx0XHRjb25zdCBjdXJyZW50X2ZpbGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpXHJcblx0XHRcdFx0XHRsZXQgaGVhZGluZyA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGN1cnJlbnRfZmlsZSkuaGVhZGluZ3NcclxuXHRcdFx0XHRcdGdsb2JhbFRoaXMuaGVhZGluZ2RhdGEgPSBoZWFkaW5nXHJcblx0XHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5pZ25vcmVUb3BIZWFkZXIpXHJcblx0XHRcdFx0XHRcdGdsb2JhbFRoaXMuaGVhZGluZ2RhdGEgPSBoZWFkaW5nLnNsaWNlKDEpO1xyXG5cdFx0XHRcdFx0Ly9cdFx0Y29uc29sZS5sb2coXCJyZWZyZXNoXCIpXHJcblx0XHRcdFx0XHRyZWZyZXNoKHZpZXcpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHQpXHJcblx0XHQpO1xyXG5cdFx0LyogXHRcdHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJmaWxlLW9wZW5cIiwgKGZpbGUpID0+IHtcclxuXHRcdFx0XHRcdGxldCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KVxyXG5cdFx0XHRcdFx0aWYgKHZpZXcpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgY3VycmVudF9maWxlID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKVxyXG5cdFx0XHRcdFx0XHRsZXQgaGVhZGluZyA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGN1cnJlbnRfZmlsZSkuaGVhZGluZ3NcclxuXHRcdFx0XHRcdFx0Z2xvYmFsVGhpcy5oZWFkaW5nZGF0YSA9IGhlYWRpbmdcclxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJyZWZyZXNoXCIpXHJcblx0XHRcdFx0XHRcdHJlZnJlc2godmlldyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdClcclxuXHRcdFx0XHQpOyAqL1xyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUub24oJ2NoYW5nZWQnLCAoKSA9PiB7XHJcblx0XHRcdGxldCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KVxyXG5cdFx0XHRpZiAodmlldykge1xyXG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRfZmlsZSA9IHZpZXcuZmlsZVxyXG5cclxuXHRcdFx0XHRsZXQgaGVhZGluZyA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKGN1cnJlbnRfZmlsZSkuaGVhZGluZ3NcclxuXHRcdFx0XHRsZXQgbmV3aGVhZGluZyA9IGhlYWRpbmc/Lm1hcChpdGVtID0+IHtcclxuXHRcdFx0XHRcdHJldHVybiBpdGVtLmxldmVsICsgaXRlbS5oZWFkaW5nICsgaXRlbS5wb3NpdGlvbi5zdGFydC5saW5lXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHRsZXQgbmV3aGVhZGluZ2RhdGEgPSBnbG9iYWxUaGlzLmhlYWRpbmdkYXRhPy5tYXAoKGl0ZW06IEhlYWRpbmdDYWNoZSkgPT4ge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGl0ZW0ubGV2ZWwgKyBpdGVtLmhlYWRpbmcgKyBpdGVtLnBvc2l0aW9uLnN0YXJ0LmxpbmVcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdGlmIChKU09OLnN0cmluZ2lmeShuZXdoZWFkaW5nZGF0YSkgPT0gSlNPTi5zdHJpbmdpZnkobmV3aGVhZGluZykpXHJcblx0XHRcdFx0XHRyZXR1cm4gIC8vXHU2ODA3XHU5ODk4XHU3RUQzXHU2Nzg0XHU4ODRDXHU1M0Y3XHU2Q0ExXHU2NzA5XHU1M0Q4XHU1MzE2XHU0RTBEXHU2NkY0XHU2NUIwXHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHQvL1x0Y29uc29sZS5sb2coXCJyZWZyZXNoXCIpXHJcblx0XHRcdFx0XHRnbG9iYWxUaGlzLmhlYWRpbmdkYXRhID0gaGVhZGluZ1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuaWdub3JlVG9wSGVhZGVyKVxyXG5cdFx0XHRcdFx0XHRnbG9iYWxUaGlzLmhlYWRpbmdkYXRhID0gaGVhZGluZy5zbGljZSgxKTtcclxuXHRcdFx0XHRcdHJlZnJlc2godmlldylcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHR9KSlcclxuXHJcblx0XHRjb25zdCByZWZyZXNoX291dGxpbmUgPSAodmlldzogTWFya2Rvd25WaWV3KTogYW55ID0+IHtcclxuXHRcdFx0dXBkYXRlSGVhZGluZ3NGb3JWaWV3KHZpZXcpXHJcblx0XHR9XHJcblx0XHRjb25zdCByZWZyZXNoID0gKHZpZXc6IE1hcmtkb3duVmlldykgPT4gZGVib3VuY2UocmVmcmVzaF9vdXRsaW5lKHZpZXcpLCAzMDAsIHRydWUpXHJcblx0XHQvKiBcdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFwiZWRpdG9yLWNoYW5nZVwiLCAoZWRpdG9yKSA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGFjdGl2ZVZpZXcgPVxyXG5cdFx0XHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XHJcblx0XHRcdFx0XHRcdGlmIChhY3RpdmVWaWV3KSB7XHJcblx0XHRcdFx0XHRcdFx0bGV0IHJlc29sdmVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5hcHAubWV0YWRhdGFDYWNoZS5vbihcInJlc29sdmVcIiwgKGZpbGUpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGFjdGl2ZVZpZXcuZmlsZSA9PT0gZmlsZSAmJiAhcmVzb2x2ZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dXBkYXRlSGVhZGluZ3NGb3JWaWV3KCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHQpOyAqL1xyXG5cclxuXHJcblx0XHRhY3RpdmVEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZVNjcm9sbCwgdHJ1ZSlcclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgRmxvdGluZ1RPQ1NldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcclxuXHJcblx0XHR1cGRhdGVIZWFkaW5nc0ZvclZpZXcodGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KSk7XHJcblx0XHRpZiAocmVxdWlyZUFwaVZlcnNpb24oXCIwLjE1LjBcIikpIHtcclxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKCd3aW5kb3ctb3BlbicsIChsZWFmKSA9PiB7XHJcblx0XHRcdFx0bGVhZi5kb2MuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwsIHRydWUpXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGFwcC53b3Jrc3BhY2UubGF5b3V0UmVhZHkpIGFwcC53b3Jrc3BhY2UudHJpZ2dlcihcInBhcnNlLXN0eWxlLXNldHRpbmdzXCIpO1xyXG5cclxuXHR9XHJcblxyXG5cdG9udW5sb2FkKCkge1xyXG5cdFx0cmVxdWlyZUFwaVZlcnNpb24oXCIwLjE1LjBcIikgPyBhY3RpdmVEb2N1bWVudCA9IGFjdGl2ZVdpbmRvdy5kb2N1bWVudCA6IGFjdGl2ZURvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xyXG5cdFx0YWN0aXZlRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwsIHRydWUpXHJcblx0XHRzZWxmRGVzdHJ1Y3QoKTtcclxuXHR9XHJcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xyXG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xyXG5cdH1cclxufVxyXG4iLCAiXHJcbmltcG9ydCB0eXBlIEZsb2F0aW5nVG9jIGZyb20gXCJzcmMvbWFpblwiO1xyXG5pbXBvcnQgeyBBcHAsIHJlcXVpcmVBcGlWZXJzaW9uLCBNYXJrZG93blZpZXcsIENvbXBvbmVudCwgSGVhZGluZ0NhY2hlLCBNYXJrZG93blJlbmRlcmVyLCBCdXR0b25Db21wb25lbnQsIFZpZXcgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVuZGVySGVhZGVyKFxyXG4gICAgdmlldzogTWFya2Rvd25WaWV3LFxyXG4gICAgc291cmNlOiBzdHJpbmcsXHJcbiAgICBjb250YWluZXI/OiBIVE1MRWxlbWVudCxcclxuICAgIG5vdGVQYXRoPzogc3RyaW5nLFxyXG4gICAgY29tcG9uZW50OiBDb21wb25lbnQgPSBudWxsXHJcbikge1xyXG4gICAgY29uc3QgcmVnZXggPSAvKD88PV5cXHMqKVswLTldK1xcLlxccy87IC8vXHU2NzA5XHU1RThGXHU1MjE3XHU4ODY4XHJcbiAgICBjb25zdCByZWdleDIgPSAvKD88PV5cXHMqKVtcXC1cXCtdXFxzLzsgLy9cdTY1RTBcdTVFOEZcdTUyMTdcdTg4NjggIFxyXG4gICAgbGV0IG07XHJcbiAgICBsZXQgcHJlbGlzdCA9ICcnO1xyXG4gICAgaWYgKChtID0gcmVnZXguZXhlYyhzb3VyY2UpKSAhPT0gbnVsbCkge1xyXG4gICAgICAgIHByZWxpc3QgPSBtWzBdXHJcbiAgICAgICAgc291cmNlID0gc291cmNlLnJlcGxhY2UocmVnZXgsICcnKTtcclxuICAgIH0gZWxzZSBpZiAoKG0gPSByZWdleDIuZXhlYyhzb3VyY2UpKSAhPT0gbnVsbCkge1xyXG4gICAgICAgIHByZWxpc3QgPSBtWzBdXHJcbiAgICAgICAgc291cmNlID0gc291cmNlLnJlcGxhY2UocmVnZXgyLCAnJyk7XHJcbiAgICB9XHJcbiAgICBsZXQgc3ViY29udGFpbmVyID0gY29udGFpbmVyXHJcbiAgICBhd2FpdCBNYXJrZG93blJlbmRlcmVyLnJlbmRlck1hcmtkb3duKFxyXG4gICAgICAgIHNvdXJjZSxcclxuICAgICAgICBzdWJjb250YWluZXIsXHJcbiAgICAgICAgbm90ZVBhdGgsXHJcbiAgICAgICAgY29tcG9uZW50XHJcbiAgICApO1xyXG4gICAgbGV0IGF0YWcgPSBzdWJjb250YWluZXIuY3JlYXRlRWwoXCJhXCIpO1xyXG4gICAgYXRhZy5hZGRDbGFzcyhcInRleHRcIilcclxuICAgIGF0YWcub25jbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGxldCBzdGFydGxpbmUgPSBwYXJzZUludChzdWJjb250YWluZXIucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWxpbmVcIikpID8/IDBcclxuICAgICAgICBpZiAoZXZlbnQuY3RybEtleSkge1xyXG4gICAgICAgICAgICBmb2xkaGVhZGVyKHZpZXcsIHN0YXJ0bGluZSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvcGVuRmlsZVRvTGluZSh2aWV3LCBzdGFydGxpbmUpXHJcbiAgICAgICAgICAgIGxldCBwcmV2TG9jYXRpb24gPSBzdWJjb250YWluZXIucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGV4dC13cmFwLmxvY2F0ZWRcIilcclxuICAgICAgICAgICAgaWYgKHByZXZMb2NhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgcHJldkxvY2F0aW9uLnJlbW92ZUNsYXNzKFwibG9jYXRlZFwiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN1YmNvbnRhaW5lci5hZGRDbGFzcyhcImxvY2F0ZWRcIilcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgcGFyID0gc3ViY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCJwXCIpO1xyXG4gICAgaWYgKHBhcikge1xyXG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gLzxhW14+XSo+fDxcXC9bXj5dKmE+L2dtOyAvL1x1NTIyMFx1OTY2NFx1NjI0MFx1NjcwOWFcdTY4MDdcdTdCN0VcclxuICAgICAgICAvL2NvbnN0IHJlZ2V4ID0gLyg/PD1cXD5bXjxdKj8pIC9nOyAvL1x1NTIyMFx1OTY2NFx1NjI0MFx1NjcwOVx1N0E3QVx1NzY3RFx1N0IyNlxyXG4gICAgICAgIGlmIChwcmVsaXN0KSBhdGFnLmlubmVySFRNTCA9IHByZWxpc3QgKyBwYXIuaW5uZXJIVE1MLnJlcGxhY2UocmVnZXgsICcnKTtcclxuICAgICAgICBlbHNlIGF0YWcuaW5uZXJIVE1MID0gcGFyLmlubmVySFRNTC5yZXBsYWNlKHJlZ2V4LCAnJyk7XHJcbiAgICAgICAgc3ViY29udGFpbmVyLnJlbW92ZUNoaWxkKHBhcik7XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZWxpKHZpZXc6IE1hcmtkb3duVmlldywgdWxfZG9tOiBIVE1MRWxlbWVudCwgaGVhZGluZzogSGVhZGluZ0NhY2hlLCBpbmRleDogbnVtYmVyKSB7XHJcbiAgICBsZXQgbGlfZG9tID0gdWxfZG9tLmNyZWF0ZUVsKFwibGlcIilcclxuICAgIGxpX2RvbS5hZGRDbGFzcyhcImhlYWRpbmctbGlzdC1pdGVtXCIpXHJcbiAgICBsaV9kb20uc2V0QXR0cmlidXRlKFwiZGF0YS1sZXZlbFwiLCBoZWFkaW5nLmxldmVsLnRvU3RyaW5nKCkpXHJcbiAgICBsaV9kb20uc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCBpbmRleC50b1N0cmluZygpKVxyXG4gICAgbGlfZG9tLnNldEF0dHJpYnV0ZShcImRhdGEtbGluZVwiLCBoZWFkaW5nLnBvc2l0aW9uLnN0YXJ0LmxpbmUudG9TdHJpbmcoKSlcclxuICAgIGxldCB0ZXh0X2RvbSA9IGxpX2RvbS5jcmVhdGVFbChcImRpdlwiKVxyXG4gICAgdGV4dF9kb20uYWRkQ2xhc3MoXCJ0ZXh0LXdyYXBcIilcclxuXHJcblxyXG5cclxuICAgIHJlbmRlckhlYWRlcih2aWV3LCBoZWFkaW5nLmhlYWRpbmcsIHRleHRfZG9tLCB2aWV3LmZpbGUucGF0aCwgbnVsbClcclxuXHJcbiAgICAvLyB0ZXh0LmlubmVySFRNTCA9IGhlYWRpbmcuaGVhZGluZ1xyXG4gICAgbGV0IGxpbmVfZG9tID0gbGlfZG9tLmNyZWF0ZUVsKFwiZGl2XCIpXHJcbiAgICBsaW5lX2RvbS5hZGRDbGFzcyhcImxpbmUtd3JhcFwiKVxyXG4gICAgbGluZV9kb20uY3JlYXRlRGl2KCkuYWRkQ2xhc3MoXCJsaW5lXCIpXHJcbn1cclxuXHJcbmNvbnN0IG9wZW5GaWxlVG9MaW5lID0gKHZpZXc6IE1hcmtkb3duVmlldywgbGluZU51bWJlcjogbnVtYmVyKSA9PiB7XHJcbiAgICAvL2NvbnN0IGN1cnJlbnRfZmlsZSA9IHBsdWdpbi5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKVxyXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKFwibGluZSBudW1iZXJcIiwgbGluZU51bWJlcik7XHJcbiAgICAvLyBsZXQgbGVhZiA9IHBsdWdpbi5hcHAud29ya3NwYWNlLmdldExlYWYoZmFsc2UpO1xyXG4gICAgdmlldy5sZWFmLm9wZW5GaWxlKHZpZXcuZmlsZSwge1xyXG4gICAgICAgIGVTdGF0ZTogeyBsaW5lOiBsaW5lTnVtYmVyIH0sXHJcbiAgICB9KTtcclxufTtcclxuY29uc3QgZm9sZGhlYWRlciA9ICh2aWV3OiBNYXJrZG93blZpZXcsIHN0YXJ0bGluZTogbnVtYmVyKSA9PiB7XHJcbiAgICAvLyBjb25zdCB2aWV3ID0gcGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpXHJcbiAgICBjb25zdCBleGlzdGluZ0ZvbGRzID0gdmlldz8uY3VycmVudE1vZGUuZ2V0Rm9sZEluZm8oKT8uZm9sZHMgPz8gW107XHJcbiAgICBjb25zdCBoZWFkZnJvbSA9IHN0YXJ0bGluZVxyXG4gICAgbGV0IGluZGV4ID0gMDtcclxuICAgIGlmIChleGlzdGluZ0ZvbGRzLnNvbWUoKGl0ZW0sIGlkeCkgPT4geyBpbmRleCA9IGlkeDsgcmV0dXJuIGl0ZW0uZnJvbSA9PSBoZWFkZnJvbSB9KSkgLy9cdTY4MDdcdTk4OThcdTUzOUZcdTY3NjVcdTVERjJcdTdFQ0ZcdTYyOThcdTUzRTBcdTcyQjZcdTYwMDFcclxuICAgICAgICBleGlzdGluZ0ZvbGRzLnNwbGljZShpbmRleCwgMSk7IC8vXHU1MjIwXHU5NjY0XHU2Mjk4XHU1M0UwXHU3MkI2XHU2MDAxXHJcbiAgICBlbHNlIHtcclxuICAgICAgICBsZXQgaGVhZGluZ3NBdExldmVsID0ge1xyXG4gICAgICAgICAgICBmcm9tOiBzdGFydGxpbmUsXHJcbiAgICAgICAgICAgIHRvOiBzdGFydGxpbmUgKyAxLFxyXG4gICAgICAgIH1cclxuICAgICAgICBleGlzdGluZ0ZvbGRzLnB1c2goaGVhZGluZ3NBdExldmVsKTtcclxuICAgIH1cclxuXHJcbiAgICB2aWV3Py5jdXJyZW50TW9kZS5hcHBseUZvbGRJbmZvKHtcclxuICAgICAgICBmb2xkczogZXhpc3RpbmdGb2xkcyxcclxuICAgICAgICBsaW5lczogdmlldy5lZGl0b3IubGluZUNvdW50KCksXHJcbiAgICB9KTtcclxuICAgIHZpZXc/Lm9uTWFya2Rvd25Gb2xkKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDcmVhdFRvYyhcclxuICAgIGFwcDogQXBwLFxyXG4gICAgcGx1Z2luOiBGbG9hdGluZ1RvY1xyXG4pOiB2b2lkIHtcclxuXHJcbiAgICBjb25zdCBnZW5Ub2MgPSAoY3VycmVudGxlYWY6IEhUTUxFbGVtZW50LCBmbG9hdGluZ1RvY1dyYXBwZXI6IEhUTUxEaXZFbGVtZW50KSA9PiB7XHJcblxyXG4gICAgICAgIGlmIChwbHVnaW4uc2V0dGluZ3MucG9zaXRpb25TdHlsZSA9PSBcInJpZ2h0XCIpXHJcbiAgICAgICAgICAgIGZsb2F0aW5nVG9jV3JhcHBlci5hZGRDbGFzcyhcImZsb2F0aW5nLXJpZ2h0XCIpLCBmbG9hdGluZ1RvY1dyYXBwZXIucmVtb3ZlQ2xhc3MoXCJmbG9hdGluZy1sZWZ0XCIpXHJcbiAgICAgICAgZWxzZSBpZiAocGx1Z2luLnNldHRpbmdzLnBvc2l0aW9uU3R5bGUgPT0gXCJsZWZ0XCIpXHJcbiAgICAgICAgICAgIGZsb2F0aW5nVG9jV3JhcHBlci5hZGRDbGFzcyhcImZsb2F0aW5nLWxlZnRcIiksIGZsb2F0aW5nVG9jV3JhcHBlci5yZW1vdmVDbGFzcyhcImZsb2F0aW5nLXJpZ3RoXCIpXHJcbiAgICAgICAgaWYgKHBsdWdpbi5zZXR0aW5ncy5pc0xlZnQpXHJcbiAgICAgICAgICAgIGZsb2F0aW5nVG9jV3JhcHBlci5yZW1vdmVDbGFzcyhcImFsaWduTGVmdFwiKSwgZmxvYXRpbmdUb2NXcmFwcGVyLmFkZENsYXNzKFwiYWxpZ25MZWZ0XCIpXHJcbiAgICAgICAgZWxzZSBmbG9hdGluZ1RvY1dyYXBwZXIucmVtb3ZlQ2xhc3MoXCJhbGlnbkxlZnRcIilcclxuICAgICAgICBsZXQgdWxfZG9tID0gZmxvYXRpbmdUb2NXcmFwcGVyLmNyZWF0ZUVsKFwidWxcIilcclxuICAgICAgICB1bF9kb20uYWRkQ2xhc3MoXCJmbG9hdGluZy10b2NcIilcclxuICAgICAgICBsZXQgdG9vbGJhciA9IHVsX2RvbS5jcmVhdGVFbChcImRpdlwiKVxyXG4gICAgICAgIHRvb2xiYXIuYWRkQ2xhc3MoXCJ0b29sYmFyXCIpXHJcbiAgICAgICAgdG9vbGJhci5hZGRDbGFzcyhcInBpblwiKVxyXG4gICAgICAgIHRvb2xiYXIuYWRkQ2xhc3MoXCJoaWRlXCIpXHJcbiAgICAgICAgbGV0IHBpbkJ1dHRvbiA9IG5ldyBCdXR0b25Db21wb25lbnQodG9vbGJhcik7XHJcbiAgICAgICAgcGluQnV0dG9uXHJcbiAgICAgICAgICAgIC5zZXRJY29uKFwicGluXCIpXHJcbiAgICAgICAgICAgIC5zZXRUb29sdGlwKFwicGluXCIpXHJcbiAgICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChmbG9hdGluZ1RvY1dyYXBwZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwicGluXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nVG9jV3JhcHBlci5yZW1vdmVDbGFzcyhcInBpblwiKVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nVG9jV3JhcHBlci5hZGRDbGFzcyhcInBpblwiKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgdWxfZG9tLm9ubW91c2VlbnRlciA9IGZ1bmN0aW9uICgpIHsgLy9cdTc5RkJcdTUxNjVcdTRFOEJcdTRFRjZcclxuICAgICAgICAgICAgdG9vbGJhci5yZW1vdmVDbGFzcyhcImhpZGVcIilcclxuICAgICAgICAgICAgZmxvYXRpbmdUb2NXcmFwcGVyLmFkZENsYXNzKFwiaG92ZXJcIilcclxuICAgICAgICB9XHJcbiAgICAgICAgdWxfZG9tLm9ubW91c2VsZWF2ZSA9IGZ1bmN0aW9uICgpIHsgLy9cdTc5RkJcdTUxRkFcdTRFOEJcdTRFRjZcclxuICAgICAgICAgICAgdG9vbGJhci5hZGRDbGFzcyhcImhpZGVcIilcclxuICAgICAgICAgICAgZmxvYXRpbmdUb2NXcmFwcGVyLnJlbW92ZUNsYXNzKFwiaG92ZXJcIilcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHRvcEJ1dXRvbiA9IG5ldyBCdXR0b25Db21wb25lbnQodG9vbGJhcik7XHJcbiAgICAgICAgdG9wQnV1dG9uXHJcbiAgICAgICAgICAgIC5zZXRJY29uKFwiZG91YmxlLXVwLWFycm93LWdseXBoXCIpXHJcbiAgICAgICAgICAgIC5zZXRUb29sdGlwKFwiU2Nyb2xsIHRvIFRvcFwiKVxyXG4gICAgICAgICAgICAuc2V0Q2xhc3MoXCJ0b3BcIilcclxuICAgICAgICAgICAgLm9uQ2xpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0RXBoZW1lcmFsU3RhdGUoe1wic2Nyb2xsXCI6MH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBjdXJyZW50X2ZpbGUgPSBhcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKVxyXG4gICAgICAgIGdsb2JhbFRoaXMuaGVhZGluZ2RhdGEgPSBhcHAubWV0YWRhdGFDYWNoZS5nZXRGaWxlQ2FjaGUoY3VycmVudF9maWxlKS5oZWFkaW5nc1xyXG4gICAgICAgIGlmIChnbG9iYWxUaGlzLmhlYWRpbmdkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChwbHVnaW4uc2V0dGluZ3MuaWdub3JlVG9wSGVhZGVyKVxyXG4gICAgICAgICAgICAgICAgZ2xvYmFsVGhpcy5oZWFkaW5nZGF0YSA9IGFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShjdXJyZW50X2ZpbGUpLmhlYWRpbmdzLnNsaWNlKDEpO1xyXG4gICAgICAgICAgICBnbG9iYWxUaGlzLmhlYWRpbmdkYXRhLmZvckVhY2goKGhlYWRpbmc6IEhlYWRpbmdDYWNoZSwgaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IGFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVsaSh2aWV3LCB1bF9kb20sIGhlYWRpbmcsIGluZGV4KVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGN1cnJlbnRsZWFmXHJcbiAgICAgICAgICAgICAgICA/LnF1ZXJ5U2VsZWN0b3IoXCIubWFya2Rvd24tc291cmNlLXZpZXdcIilcclxuICAgICAgICAgICAgICAgIC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJiZWZvcmViZWdpblwiLCBmbG9hdGluZ1RvY1dyYXBwZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9O1xyXG4gICAgbGV0IE1hcmtkb3duID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcclxuICAgIGlmIChNYXJrZG93bikge1xyXG4gICAgICAgIHJlcXVpcmVBcGlWZXJzaW9uKFwiMC4xNS4wXCIpID8gYWN0aXZlRG9jdW1lbnQgPSBhY3RpdmVXaW5kb3cuZG9jdW1lbnQgOiBhY3RpdmVEb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcclxuICAgICAgICBsZXQgdmlldyA9IHBsdWdpbi5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KVxyXG4gICAgICAgIGxldCBmbG9hdF90b2NfZG9tID0gdmlldy5jb250ZW50RWw/LnF1ZXJ5U2VsZWN0b3IoXCIuZmxvYXRpbmctdG9jLWRpdlwiKTtcclxuXHJcbiAgICAgICAgaWYgKCFmbG9hdF90b2NfZG9tKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZsb2F0aW5nVG9jV3JhcHBlciA9IGNyZWF0ZUVsKFwiZGl2XCIpO1xyXG4gICAgICAgICAgICBmbG9hdGluZ1RvY1dyYXBwZXIuYWRkQ2xhc3MoXCJmbG9hdGluZy10b2MtZGl2XCIpO1xyXG5cclxuICAgICAgICAgICAgZ2VuVG9jKHZpZXcuY29udGVudEVsLCBmbG9hdGluZ1RvY1dyYXBwZXIpXHJcbiAgICAgICAgfSBlbHNlIHJldHVybjtcclxuICAgIH1cclxuXHJcbn0iLCAiaW1wb3J0IHR5cGUgRmxvYXRpbmdUb2MgZnJvbSBcInNyYy9tYWluXCI7XHJcbmltcG9ydCB7IEFwcCwgU2V0dGluZywgUGx1Z2luU2V0dGluZ1RhYiwgQnV0dG9uQ29tcG9uZW50IH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IFBPU0lUSU9OX1NUWUxFUyB9IGZyb20gXCJzcmMvc2V0dGluZ3Mvc2V0dGluZ3NEYXRhXCI7XHJcbmltcG9ydCB7IHNlbGZEZXN0cnVjdCB9IGZyb20gXCJzcmMvbWFpblwiO1xyXG5pbXBvcnQgeyBDcmVhdFRvYyB9IGZyb20gXCJzcmMvY29tcG9uZW50cy9mbG9hdGluZ3RvY1VJXCJcclxuaW1wb3J0IHsgdCB9IGZyb20gJ3NyYy90cmFuc2xhdGlvbnMvaGVscGVyJztcclxuXHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEZsb3RpbmdUT0NTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XHJcbiAgcGx1Z2luOiBGbG9hdGluZ1RvYztcclxuICBhcHBlbmRNZXRob2Q6IHN0cmluZztcclxuXHJcbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogRmxvYXRpbmdUb2MpIHtcclxuICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG4gICAgYWRkRXZlbnRMaXN0ZW5lcihcInJlZnJlc2gtdG9jXCIsICgpID0+IHtcclxuICAgICAgc2VsZkRlc3RydWN0KCk7XHJcbiAgICAgIENyZWF0VG9jKGFwcCwgdGhpcy5wbHVnaW4pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBkaXNwbGF5KCk6IHZvaWQge1xyXG4gICAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcclxuICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbChcImgxXCIsIHsgdGV4dDogXCJPYnNpZGlhbiBGbG9hdGluZyBUT0MgXCIgfSk7XHJcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbChcInNwYW5cIiwgeyB0ZXh0OiBcIlwiIH0pLmNyZWF0ZUVsKFwiYVwiLCB7XHJcbiAgICAgIHRleHQ6IFwiQXV0aG9yOiBDdW1hbiBcdTI3MjhcIixcclxuICAgICAgaHJlZjogXCJodHRwczovL2dpdGh1Yi5jb20vY3VtYW55XCIsXHJcbiAgICB9KVxyXG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJzcGFuXCIsIHsgdGV4dDogXCJcIiB9KS5jcmVhdGVFbChcImFcIiwge1xyXG4gICAgICB0ZXh0OiBcIlJlYWRtZTpcdTRFMkRcdTY1ODdcIixcclxuICAgICAgaHJlZjogXCJodHRwczovL2dpdGh1Yi5jb20vY3VtYW55L29ic2lkaWFuLWZsb2F0aW5nLXRvYy1wbHVnaW4vYmxvYi9tYXN0ZXIvUkVBRE1FLXpoX2NuLm1kXCIsXHJcbiAgICB9KVxyXG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJzcGFuXCIsIHsgdGV4dDogXCJcIiB9KS5jcmVhdGVFbChcImFcIiwge1xyXG4gICAgICB0ZXh0OiBcInxFbmdsaXNoICBcIixcclxuICAgICAgaHJlZjogXCJodHRwczovL2dpdGh1Yi5jb20vY3VtYW55L29ic2lkaWFuLWZsb2F0aW5nLXRvYy1wbHVnaW4vYmxvYi9tYXN0ZXIvUkVBRE1FLm1kXCIsXHJcbiAgICB9KTtcclxuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwicFwiLCB7IHRleHQ6IFwiXHVEODNEXHVERDExVElQUzogXCIgfSlcclxuICAgICAgLmNyZWF0ZUVsKFwicFwiLCB7XHJcbiAgICAgICAgdGV4dDogXCJjdHJsICsgY2xpY2sgb24gdGhlIGZsb2F0aW5nIHRvYyB0byBjb2xsYXBzZS9leHBhbmQgdGhlIGhlYWRlci5cIlxyXG4gICAgICB9KTtcclxuICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiB0KFwiUGx1Z2luIFNldHRpbmdzXCIpIH0pO1xyXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKHQoJ0Zsb2F0aW5nIFRPQyBwb3NpdGlvbicpXHJcbiAgICAgIClcclxuICAgICAgLnNldERlc2ModCgnRmxvYXRpbmcgVE9DIHBvc2l0aW9uLCBkZWZhdWx0IG9uIHRoZSBsZWZ0IHNpZGUgb2YgdGhlIG5vdGVzJylcclxuICAgICAgKVxyXG4gICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XHJcbiAgICAgICAgbGV0IHBvc290aW9uczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xyXG4gICAgICAgIFBPU0lUSU9OX1NUWUxFUy5tYXAoKHBvc290aW9uOiBzdHJpbmcpID0+IChwb3NvdGlvbnNbcG9zb3Rpb25dID0gcG9zb3Rpb24pKTtcclxuICAgICAgICBkcm9wZG93bi5hZGRPcHRpb25zKHBvc290aW9ucyk7XHJcbiAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wb3NpdGlvblN0eWxlKVxyXG4gICAgICAgICAgLm9uQ2hhbmdlKChwb3NpdGlvblN0eWxlOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MucG9zaXRpb25TdHlsZSA9IHBvc2l0aW9uU3R5bGU7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcclxuICAgICAgICAgICAgICBkaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcInJlZnJlc2gtdG9jXCIpKTtcclxuICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgICAgaWYodGhpcy5wbHVnaW4uc2V0dGluZ3MucG9zaXRpb25TdHlsZT09XCJyaWdodFwiKXtcclxuICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgIC5zZXROYW1lKHQoJ0xlZnQgQWxpZ25lZCcpXHJcbiAgICAgIClcclxuICAgICAgLnNldERlc2MoXHJcbiAgICAgICAgdChcIndoZXRoZXIgaXQgaXMgbGVmdCBvciByaWdodCBhbGlnbmVkIFdoZW4gdGhlIGZsb2F0aW5nIHRvYyBpcyBvbiB0aGUgcmlnaHRcIilcclxuICAgICAgKVxyXG4gICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3M/LmlzTGVmdClcclxuICAgICAgICAub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pc0xlZnQgPSB2YWx1ZTtcclxuICAgICAgICAgIHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xyXG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcInJlZnJlc2gtdG9jXCIpKTtcclxuICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICB9XHJcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgLnNldE5hbWUodCgnTW9iaWxlIGVuYWJsZWQgb3Igbm90JylcclxuICAgICAgKVxyXG4gICAgICAuc2V0RGVzYyhcclxuICAgICAgICB0KFwiV2hldGhlciB0byBlbmFibGUgdGhlIHBsdWdpbiBmb3IgdGhlIG1vYmlsZSBjbGllbnQsIHRoZSBkZWZhdWx0IGlzIGVuYWJsZWQuXCIpXHJcbiAgICAgIClcclxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzPy5pc0xvYWRPbk1vYmlsZSlcclxuICAgICAgICAub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pc0xvYWRPbk1vYmlsZSA9IHZhbHVlO1xyXG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJyZWZyZXNoLXRvY1wiKSk7XHJcbiAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgIH0pKTtcclxuICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuICAgICAgLnNldE5hbWUodCgnSWdub3JlIHRvcC1sZXZlbCBoZWFkZXJzJylcclxuICAgICAgKVxyXG4gICAgICAuc2V0RGVzYyhcclxuICAgICAgICB0KFwiU2VsZWN0IHdoZXRoZXIgdG8gaWdub3JlIHRoZSB0b3AtbGV2ZWwgaGVhZGluZ3MuIFdoZW4gdHVybmVkIG9uLCB0aGUgdG9wLWxldmVsIGhlYWRpbmdzIGluIHRoZSBjdXJyZW50IG5vdGUgYXJlIG5vdCBkaXNwbGF5ZWQgaW4gdGhlIGZsb2F0aW5nIFRPQy5cIilcclxuICAgICAgKVxyXG4gICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3M/Lmlnbm9yZVRvcEhlYWRlcilcclxuICAgICAgICAub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pZ25vcmVUb3BIZWFkZXIgPSB2YWx1ZTtcclxuICAgICAgICAgIHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwicmVmcmVzaC10b2NcIikpO1xyXG4gICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICB9KSk7IFxyXG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoMlwiLCB7IHRleHQ6IHQoXCJQbHVnaW4gU3R5bGUgU2V0dGluZ3NcIikgfSk7XHJcblxyXG4gICAgY29uc3QgaXNFbmFibGVkID0gYXBwLnBsdWdpbnMuZW5hYmxlZFBsdWdpbnMuaGFzKFwib2JzaWRpYW4tc3R5bGUtc2V0dGluZ3NcIik7XHJcbiAgICBpZiAoaXNFbmFibGVkKSB7XHJcbiAgICAgIFxyXG4gICAgICBjb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwgeyB0ZXh0OiBcIlx1RDgzRFx1REQxNE5vdGljZTogXCIgfSlcclxuICAgICAgLmNyZWF0ZUVsKFwicFwiLCB7XHJcbiAgICAgICAgdGV4dDogdChcIklmIHRoZSBmbG9hdGluZyBUb2Mgb3B0aW9uIGlzIG5vdCBmb3VuZCBpbiB0aGUgc3R5bGUgc2V0dGluZywgcGxlYXNlIHJlbG9hZCB0aGUgc3R5bGUgc2V0dGluZyBwbHVnaW4gKHR1cm4gaXQgb2ZmIGFuZCBvbiBhZ2FpbilcIilcclxuICAgICAgfSk7XHJcbiAgICAgIGxldCBidXR0b24gPSBuZXcgQnV0dG9uQ29tcG9uZW50KGNvbnRhaW5lckVsKTtcclxuICAgICAgYnV0dG9uXHJcbiAgICAgICAgLnNldEljb24oXCJwYWxldHRlXCIpXHJcbiAgICAgICAgLnNldENsYXNzKFwidGlueVwiKVxyXG4gICAgICAgIC5zZXRCdXR0b25UZXh0KFwiXHVEODNDXHVERkE4IE9wZW4gc3R5bGUgc2V0dGluZ3NcIilcclxuICAgICAgICAub25DbGljaygoKSA9PiB7XHJcbiAgICAgICAgICBhcHAuc2V0dGluZy5vcGVuKCk7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGFwcC5zZXR0aW5nLm9wZW5UYWJCeUlkKFwib2JzaWRpYW4tc3R5bGUtc2V0dGluZ3NcIiksIDMwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb250YWluZXJFbC5jcmVhdGVFbChcInNwYW5cIiwgeyB0ZXh0OiBcIlwiIH0pLmNyZWF0ZUVsKFwiYVwiLCB7XHJcbiAgICAgICAgdGV4dDogXCJQbGVhc2UgaW5zdGFsbCBvciBlbmFibGUgdGhlIHN0eWxlLXNldHRpbmdzIHBsdWdpblwiLFxyXG4gICAgICAgIGhyZWY6IFwib2JzaWRpYW46Ly9zaG93LXBsdWdpbj9pZD1vYnNpZGlhbi1zdHlsZS1zZXR0aW5nc1wiLFxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjb25zdCBjRG9uYXRpb25EaXYgPSBjb250YWluZXJFbC5jcmVhdGVFbChcImRpdlwiLCB7XHJcbiAgICAgIGNsczogXCJjRG9uYXRpb25TZWN0aW9uXCIsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBjcmVkaXQgPSBjcmVhdGVFbChcInBcIik7XHJcbiAgICBjb25zdCBkb25hdGVUZXh0ID0gY3JlYXRlRWwoXCJwXCIpO1xyXG4gICAgZG9uYXRlVGV4dC5hcHBlbmRUZXh0KFxyXG4gICAgICBcIklmIHlvdSBsaWtlIHRoaXMgUGx1Z2luIGFuZCBhcmUgY29uc2lkZXJpbmcgZG9uYXRpbmcgdG8gc3VwcG9ydCBjb250aW51ZWQgZGV2ZWxvcG1lbnQsIHVzZSB0aGUgYnV0dG9uIGJlbG93IVwiXHJcbiAgICApO1xyXG4gICAgY3JlZGl0LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwiY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpXCIpO1xyXG4gICAgY0RvbmF0aW9uRGl2LmFwcGVuZENoaWxkKGRvbmF0ZVRleHQpO1xyXG4gICAgY0RvbmF0aW9uRGl2LmFwcGVuZENoaWxkKGNyZWRpdCk7XHJcblxyXG4gICAgY0RvbmF0aW9uRGl2LmFwcGVuZENoaWxkKFxyXG4gICAgICBjcmVhdGVEb25hdGVCdXR0b24oXCJodHRwczovL2dpdGh1Yi5jb20vY3VtYW55I3RoYW5rLXlvdS12ZXJ5LW11Y2gtZm9yLXlvdXItc3VwcG9ydFwiKVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGNyZWF0ZURvbmF0ZUJ1dHRvbiA9IChsaW5rOiBzdHJpbmcpOiBIVE1MRWxlbWVudCA9PiB7XHJcbiAgY29uc3QgYSA9IGNyZWF0ZUVsKFwiYVwiKTtcclxuICBhLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgbGluayk7XHJcbiAgYS5hZGRDbGFzcyhcImJ1eW1lYWNvZmZlZS1pbWdcIik7XHJcbiAgYS5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCJodHRwczovL2ltZy5idXltZWFjb2ZmZWUuY29tL2J1dHRvbi1hcGkvP3RleHQ9QnV5IG1lIGEgY29mZmVlICZlbW9qaT0mc2x1Zz1DdW1hbiZidXR0b25fY29sb3VyPUJENUZGRiZmb250X2NvbG91cj1mZmZmZmYmZm9udF9mYW1pbHk9UG9wcGlucyZvdXRsaW5lX2NvbG91cj0wMDAwMDAmY29mZmVlX2NvbG91cj1GRkREMDBcIiAvPmA7XHJcbiAgcmV0dXJuIGE7XHJcbn07XHJcblxyXG5cclxuXHJcbiIsICJcclxuXHJcbmV4cG9ydCBjb25zdCBQT1NJVElPTl9TVFlMRVMgPSBbXCJsZWZ0XCIsIFwicmlnaHRcIl07XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBGbG90aW5nVE9DU2V0dGluZyB7XHJcbiAgaWdub3JlVG9wSGVhZGVyOiBib29sZWFuO1xyXG4gIHBvc2l0aW9uU3R5bGU6IHN0cmluZztcclxuICBpc0xvYWRPbk1vYmlsZTpib29sZWFuO1xyXG4gIGlzTGVmdDpib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogRmxvdGluZ1RPQ1NldHRpbmcgPSB7XHJcbiAgaWdub3JlVG9wSGVhZGVyOiBmYWxzZSxcclxuICBwb3NpdGlvblN0eWxlOiBcImxlZnRcIixcclxuICBpc0xvYWRPbk1vYmlsZTogdHJ1ZSxcclxuICBpc0xlZnQ6IGZhbHNlXHJcbn07XHJcbiIsICIvLyBDb2RlIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3ZhbGVudGluZTE5NS9vYnNpZGlhbi1hZG1vbml0aW9uL2Jsb2IvbWFzdGVyL3NyYy9sYW5nL2hlbHBlcnMudHNcclxuXHJcbmltcG9ydCB7IG1vbWVudCB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbmltcG9ydCBhciBmcm9tICcuL2xvY2FsZS9hcic7XHJcbmltcG9ydCBjeiBmcm9tICcuL2xvY2FsZS9jeic7XHJcbmltcG9ydCBkYSBmcm9tICcuL2xvY2FsZS9kYSc7XHJcbmltcG9ydCBkZSBmcm9tICcuL2xvY2FsZS9kZSc7XHJcbmltcG9ydCBlbiBmcm9tICcuL2xvY2FsZS9lbic7XHJcbmltcG9ydCBlbkdCIGZyb20gJy4vbG9jYWxlL2VuLWdiJztcclxuaW1wb3J0IGVzIGZyb20gJy4vbG9jYWxlL2VzJztcclxuaW1wb3J0IGZyIGZyb20gJy4vbG9jYWxlL2ZyJztcclxuaW1wb3J0IGhpIGZyb20gJy4vbG9jYWxlL2hpJztcclxuaW1wb3J0IGlkIGZyb20gJy4vbG9jYWxlL2lkJztcclxuaW1wb3J0IGl0IGZyb20gJy4vbG9jYWxlL2l0JztcclxuaW1wb3J0IGphIGZyb20gJy4vbG9jYWxlL2phJztcclxuaW1wb3J0IGtvIGZyb20gJy4vbG9jYWxlL2tvJztcclxuaW1wb3J0IG5sIGZyb20gJy4vbG9jYWxlL25sJztcclxuaW1wb3J0IG5vIGZyb20gJy4vbG9jYWxlL25vJztcclxuaW1wb3J0IHBsIGZyb20gJy4vbG9jYWxlL3BsJztcclxuaW1wb3J0IHB0IGZyb20gJy4vbG9jYWxlL3B0JztcclxuaW1wb3J0IHB0QlIgZnJvbSAnLi9sb2NhbGUvcHQtYnInO1xyXG5pbXBvcnQgcm8gZnJvbSAnLi9sb2NhbGUvcm8nO1xyXG5pbXBvcnQgcnUgZnJvbSAnLi9sb2NhbGUvcnUnO1xyXG5pbXBvcnQgdHIgZnJvbSAnLi9sb2NhbGUvdHInO1xyXG5pbXBvcnQgemhDTiBmcm9tICcuL2xvY2FsZS96aC1jbic7XHJcbmltcG9ydCB6aFRXIGZyb20gJy4vbG9jYWxlL3poLXR3JztcclxuXHJcbmNvbnN0IGxvY2FsZU1hcDogeyBbazogc3RyaW5nXTogUGFydGlhbDx0eXBlb2YgZW4+IH0gPSB7XHJcbiAgYXIsXHJcbiAgY3M6IGN6LFxyXG4gIGRhLFxyXG4gIGRlLFxyXG4gIGVuLFxyXG4gICdlbi1nYic6IGVuR0IsXHJcbiAgZXMsXHJcbiAgZnIsXHJcbiAgaGksXHJcbiAgaWQsXHJcbiAgaXQsXHJcbiAgamEsXHJcbiAga28sXHJcbiAgbmwsXHJcbiAgbm46IG5vLFxyXG4gIHBsLFxyXG4gIHB0LFxyXG4gICdwdC1icic6IHB0QlIsXHJcbiAgcm8sXHJcbiAgcnUsXHJcbiAgdHIsXHJcbiAgJ3poLWNuJzogemhDTixcclxuICAnemgtdHcnOiB6aFRXLFxyXG59O1xyXG5cclxuY29uc3QgbG9jYWxlID0gbG9jYWxlTWFwW21vbWVudC5sb2NhbGUoKV07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdChzdHI6IGtleW9mIHR5cGVvZiBlbik6IHN0cmluZyB7XHJcbiAgcmV0dXJuIChsb2NhbGUgJiYgbG9jYWxlW3N0cl0pIHx8IGVuW3N0cl07XHJcbn1cclxuIiwgIi8vIFx1MDYyN1x1MDY0NFx1MDYzOVx1MDYzMVx1MDYyOFx1MDY0QVx1MDYyOVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge307XHJcbiIsICIvLyBcdTAxMERlXHUwMTYxdGluYVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge307XHJcbiIsICIvLyBEYW5za1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge307XHJcbiIsICIvLyBEZXV0c2NoXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7fTtcclxuIiwgImV4cG9ydCBkZWZhdWx0IHtcclxuICAgICdGbG9hdGluZyBUT0MgcG9zaXRpb24nOidGbG9hdGluZyBUT0MgcG9zaXRpb24nLFxyXG4gICAgJ0Zsb2F0aW5nIFRPQyBwb3NpdGlvbiwgZGVmYXVsdCBvbiB0aGUgbGVmdCBzaWRlIG9mIHRoZSBub3Rlcyc6J0Zsb2F0aW5nIFRPQyBwb3NpdGlvbiwgZGVmYXVsdCBvbiB0aGUgbGVmdCBzaWRlIG9mIHRoZSBub3RlcycsXHJcbiAgICAnSWdub3JlIHRvcC1sZXZlbCBoZWFkZXJzJzonSWdub3JlIHRvcC1sZXZlbCBoZWFkZXJzJyxcclxuICAgICdTZWxlY3Qgd2hldGhlciB0byBpZ25vcmUgdGhlIHRvcC1sZXZlbCBoZWFkaW5ncy4gV2hlbiB0dXJuZWQgb24sIHRoZSB0b3AtbGV2ZWwgaGVhZGluZ3MgaW4gdGhlIGN1cnJlbnQgbm90ZSBhcmUgbm90IGRpc3BsYXllZCBpbiB0aGUgZmxvYXRpbmcgVE9DLic6J1NlbGVjdCB3aGV0aGVyIHRvIGlnbm9yZSB0aGUgdG9wLWxldmVsIGhlYWRpbmdzLiBXaGVuIHR1cm5lZCBvbiwgdGhlIHRvcC1sZXZlbCBoZWFkaW5ncyBpbiB0aGUgY3VycmVudCBub3RlIGFyZSBub3QgZGlzcGxheWVkIGluIHRoZSBmbG9hdGluZyBUT0MuJywgICAgXHJcbiAgICAnUGx1Z2luIFNldHRpbmdzJzonUGx1Z2luIFNldHRpbmdzJyxcclxuICAgICdQbHVnaW4gU3R5bGUgU2V0dGluZ3MnOiAnUGx1Z2luIFN0eWxlIFNldHRpbmdzJyxcclxuICAgICdNb2JpbGUgZW5hYmxlZCBvciBub3QnOidNb2JpbGUgZW5hYmxlZCBvciBub3QnLFxyXG4gICAgJ1doZXRoZXIgdG8gZW5hYmxlIHRoZSBwbHVnaW4gZm9yIHRoZSBtb2JpbGUgY2xpZW50LCB0aGUgZGVmYXVsdCBpcyBlbmFibGVkLic6J1doZXRoZXIgdG8gZW5hYmxlIHRoZSBwbHVnaW4gZm9yIHRoZSBtb2JpbGUgY2xpZW50LCB0aGUgZGVmYXVsdCBpcyBlbmFibGVkLicsXHJcbiAgICAnSWYgdGhlIGZsb2F0aW5nIFRvYyBvcHRpb24gaXMgbm90IGZvdW5kIGluIHRoZSBzdHlsZSBzZXR0aW5nLCBwbGVhc2UgcmVsb2FkIHRoZSBzdHlsZSBzZXR0aW5nIHBsdWdpbiAodHVybiBpdCBvZmYgYW5kIG9uIGFnYWluKSc6J0lmIHRoZSBmbG9hdGluZyBUb2Mgb3B0aW9uIGlzIG5vdCBmb3VuZCBpbiB0aGUgc3R5bGUgc2V0dGluZywgcGxlYXNlIHJlbG9hZCB0aGUgc3R5bGUgc2V0dGluZyBwbHVnaW4gKHR1cm4gaXQgb2ZmIGFuZCBvbiBhZ2FpbiknLFxyXG4gICAgJ0xlZnQgQWxpZ25lZCc6J0xlZnQgQWxpZ25lZCcsXHJcbiAgICAnd2hldGhlciBpdCBpcyBsZWZ0IG9yIHJpZ2h0IGFsaWduZWQgV2hlbiB0aGUgZmxvYXRpbmcgdG9jIGlzIG9uIHRoZSByaWdodCc6J3doZXRoZXIgaXQgaXMgbGVmdCBvciByaWdodCBhbGlnbmVkIFdoZW4gdGhlIGZsb2F0aW5nIHRvYyBpcyBvbiB0aGUgcmlnaHQnXHJcbn07XHJcbiIsICIvLyBCcml0aXNoIEVuZ2xpc2hcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHt9O1xyXG4iLCAiLy8gRXNwYVx1MDBGMW9sXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7fTtcclxuIiwgImV4cG9ydCBkZWZhdWx0IHt9O1xyXG4iLCAiLy8gXHUwOTM5XHUwOTNGXHUwOTI4XHUwOTREXHUwOTI2XHUwOTQwXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7fTtcclxuIiwgIi8vIEJhaGFzYSBJbmRvbmVzaWFcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHt9O1xyXG4iLCAiLy8gSXRhbGlhbm9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHt9O1xyXG4iLCAiLy8gXHU2NUU1XHU2NzJDXHU4QTlFXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7fTtcclxuIiwgIi8vIFx1RDU1Q1x1QUQ2RFx1QzVCNFxyXG5cclxuZXhwb3J0IGRlZmF1bHQge307XHJcbiIsICIvLyBOZWRlcmxhbmRzXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7fTtcclxuIiwgIi8vIE5vcnNrXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7fTtcclxuIiwgIi8vIGpcdTAxMTl6eWsgcG9sc2tpXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7fTtcclxuIiwgImV4cG9ydCBkZWZhdWx0IHt9O1xyXG4iLCAiZXhwb3J0IGRlZmF1bHQge307XHJcbiIsICIvLyBSb21cdTAwRTJuXHUwMTAzXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7fTtcclxuIiwgIi8vIFx1MDQ0MFx1MDQ0M1x1MDQ0MVx1MDQ0MVx1MDQzQVx1MDQzOFx1MDQzOVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge307XHJcbiIsICIvLyBUXHUwMEZDcmtcdTAwRTdlXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7fTtcclxuIiwgImV4cG9ydCBkZWZhdWx0IHtcclxuICAvLyBzZXR0aW5nLnRzXHJcbiAgJ0Zsb2F0aW5nIFRPQyBwb3NpdGlvbic6ICdcdTZENkVcdTUyQThcdTc2RUVcdTVGNTVcdTY2M0VcdTc5M0FcdTRGNERcdTdGNkUnLFxyXG4gICdGbG9hdGluZyBUT0MgcG9zaXRpb24sIGRlZmF1bHQgb24gdGhlIGxlZnQgc2lkZSBvZiB0aGUgbm90ZXMnOiAnXHU2RDZFXHU1MkE4XHU3NkVFXHU1RjU1XHU2NjNFXHU3OTNBXHU0RjREXHU3RjZFXHVGRjBDXHU5RUQ4XHU4QkE0XHU2NjNFXHU3OTNBXHU1NzI4XHU3QjE0XHU4QkIwXHU1REU2XHU0RkE3JyxcclxuICAnSWdub3JlIHRvcC1sZXZlbCBoZWFkZXJzJzogJ1x1NjYyRlx1NTQyNlx1NUZGRFx1NzU2NVx1OTg3Nlx1N0VBN1x1NzZFRVx1NUY1NScsXHJcbiAgJ1NlbGVjdCB3aGV0aGVyIHRvIGlnbm9yZSB0aGUgdG9wLWxldmVsIGhlYWRpbmdzLiBXaGVuIHR1cm5lZCBvbiwgdGhlIHRvcC1sZXZlbCBoZWFkaW5ncyBpbiB0aGUgY3VycmVudCBub3RlIGFyZSBub3QgZGlzcGxheWVkIGluIHRoZSBmbG9hdGluZyBUT0MuJzogJ1x1OTAwOVx1NjJFOVx1NjYyRlx1NTQyNlx1NUZGRFx1NzU2NVx1OTg3Nlx1N0VBN1x1NjgwN1x1OTg5OFx1RkYwQ1x1NUYwMFx1NTQyRlx1NTQwRVx1NUY1M1x1NTI0RFx1NjU4N1x1Njg2M1x1NEUyRFx1NjcwMFx1OTg3Nlx1N0VBN1x1NzY4NFx1NjgwN1x1OTg5OFx1NEUwRFx1NjYzRVx1NzkzQVx1NTcyOFx1NkQ2RVx1NTJBOFx1NzZFRVx1NUY1NVx1NEUyRFx1MzAwMicsXHJcbiAgJ1BsdWdpbiBTZXR0aW5ncyc6ICdcdTYzRDJcdTRFRjZcdThCQkVcdTdGNkUnLFxyXG4gICdQbHVnaW4gU3R5bGUgU2V0dGluZ3MnOiAnXHU2M0QyXHU0RUY2XHU2ODM3XHU1RjBGXHU4QkJFXHU3RjZFJyxcclxuICAnTW9iaWxlIGVuYWJsZWQgb3Igbm90JzogJ1x1NjYyRlx1NTQyNlx1NTcyOFx1NzlGQlx1NTJBOFx1N0FFRlx1NTQyRlx1NzUyOCcsXHJcbiAgJ1doZXRoZXIgdG8gZW5hYmxlIHRoZSBwbHVnaW4gZm9yIHRoZSBtb2JpbGUgY2xpZW50LCB0aGUgZGVmYXVsdCBpcyBlbmFibGVkLic6J1x1NzlGQlx1NTJBOFx1NUJBMlx1NjIzN1x1N0FFRlx1NjYyRlx1NTQyNlx1NTQyRlx1NzUyOFx1NjNEMlx1NEVGNlx1RkYwQ1x1OUVEOFx1OEJBNFx1NTQyRlx1NzUyOFx1MzAwMicsXHJcbiAgJ0lmIHRoZSBmbG9hdGluZyBUb2Mgb3B0aW9uIGlzIG5vdCBmb3VuZCBpbiB0aGUgc3R5bGUgc2V0dGluZywgcGxlYXNlIHJlbG9hZCB0aGUgc3R5bGUgc2V0dGluZyBwbHVnaW4gKHR1cm4gaXQgb2ZmIGFuZCBvbiBhZ2FpbiknOidcdTU5ODJcdTY3OUNzdHlsZSBzZXR0aW5nIFx1NEUyRFx1NjVFMFx1NkNENVx1NzcwQlx1NTIzMCBmbG9hdGluZyBUb2NcdTkwMDlcdTk4NzlcdUZGMENcdThCRjdcdTkxQ0RcdThGN0RzdHlsZSBzZXR0aW5nXHU2M0QyXHU0RUY2XHVGRjA4XHU1MTczXHU5NUVEXHU1MThEXHU1RjAwXHU1NDJGXHU1MzczXHU1M0VGXHVGRjA5JyxcclxuICAnTGVmdCBBbGlnbmVkJzonXHU1REU2XHU1QkY5XHU5RjUwJyxcclxuICAnd2hldGhlciBpdCBpcyBsZWZ0IG9yIHJpZ2h0IGFsaWduZWQgV2hlbiB0aGUgZmxvYXRpbmcgdG9jIGlzIG9uIHRoZSByaWdodCc6J1x1NUY1M1x1NURFNVx1NTE3N1x1NjgwRlx1NTcyOFx1NTNGM1x1NEZBN1x1NjVGNlx1RkYwQ1x1NjYyRlx1NTQyNlx1NURFNlx1NUJGOVx1OUY1MCdcclxufTtcclxuIiwgIi8vIFx1N0U0MVx1OUFENFx1NEUyRFx1NjU4N1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge307XHJcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7OzZ5QkFBQSx5RUFBK0YsdUJDRS9GLE1BQXVILHVCQUd2SCxXQUNJLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFBdUIsS0FDekIsZ0NBQ0UsR0FBTSxHQUFRLHNCQUNSLEVBQVMsb0JBQ1gsRUFDQSxFQUFVLEdBQ2QsQUFBSyxHQUFJLEVBQU0sS0FBSyxNQUFhLEtBQzdCLEdBQVUsRUFBRSxHQUNaLEVBQVMsRUFBTyxRQUFRLEVBQU8sS0FDdkIsR0FBSSxFQUFPLEtBQUssTUFBYSxNQUNyQyxHQUFVLEVBQUUsR0FDWixFQUFTLEVBQU8sUUFBUSxFQUFRLEtBRXBDLEdBQUksR0FBZSxFQUNuQixLQUFNLG9CQUFpQixlQUNuQixFQUNBLEVBQ0EsRUFDQSxHQUVKLEdBQUksR0FBTyxFQUFhLFNBQVMsS0FDakMs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
